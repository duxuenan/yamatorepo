# b14-ベースアカウントマスタ検索 - 详细分析

## 页面结构层次

```
配車発注管理システム
├── マスタ管理
│   ├── アカウント検索
│   │   ├── ユーザーID
│   │   ├── メールアドレス
│   │   ├── ユーザー名
│   │   ├── 所属
│   │   ├── 権限
│   │   └── 検索ボタン
│   └── 検索結果
│       ├── ＋新規追加
│       └── 账户列表
│           ├── ユーザーID (链接)
│           ├── ユーザー名
│           ├── 所属
│           ├── 権限
│           ├── アカウント有効・無効
│           └── メールアドレス
```

## 字段详细说明

### 搜索区域

| 字段标识 | 字段名称 | 数据类型 | 验证规则 | 业务规则 |
|----------|----------|----------|----------|----------|
| user_id | ユーザーID | string | 模糊匹配 | AzureADに登録されているユーザーIDを入力する |
| email | メールアドレス | string | 模糊匹配 | AzureADに登録されているメールアドレスを入力する |
| user_name | ユーザー名 | string | 模糊匹配 | AzureADに登録されているユーザー名を入力する |
| affiliation | 所属 | string | 模糊匹配 | 任意で登録した所属ベース名を入力する |
| permission | 権限 | radio | 单选 | ●管理者 / 〇役割者 / 〇配車担当者 / 〇計上担当者 |

### 结果列表区域

| 字段标识 | 字段名称 | 数据类型 | 来源 | 业务规则 |
|----------|----------|----------|------|----------|
| user_id | ユーザーID | string | AzureAD | クリック時はb15画面に遷移 |
| user_name | ユーザー名 | string | AzureAD | AzureADに登録されているユーザー名を表示する |
| affiliation | 所属 | string | 本システム | 任意で登録した所属ベース名を表示する |
| permission | 権限 | enum | 本システム | 本システムで設定した権限を表示する |
| account_status | アカウント有効・無効 | enum | システム | アカウントの状態が有効か無効かを表示する |
| email | メールアドレス | string | AzureAD | AzureADに登録されているメールアドレスを表示する |

## 交互流程详细说明

### 1. 搜索操作流程

```
输入搜索条件（可输入多个条件）
  ↓
点击「検索」按钮
  ↓
执行搜索查询
  ↓
显示符合条件的账户信息列表
  ↓
如果没有匹配结果，显示"該当のアカウント情報は存在しません"
```

### 2. 查看详情流程

```
在列表中点击用户ID链接
  ↓
跳转到 b15-ベースアカウントマスタ詳細 页面
  ↓
显示该账户的详细信息
```

### 3. 新增用户流程

```
点击「＋新規追加」按钮
  ↓
显示用户ID搜索弹窗
  ↓
输入用户ID（AzureAD登録）
  ↓
点击「検索」按钮
  ↓
显示搜索结果
  ↓
点击「決定」按钮
  ↓
跳转到 b15-ベースアカウントマスタ詳細 页面（新增模式）
```

## 弹窗详细说明

### ユーザーID搜索弹窗

| 属性 | 值 |
|------|-----|
| 触发方式 | 点击「＋新規追加」按钮 |
| 搜索字段 | ユーザーID |
| 操作按钮 | 検索 / 決定 |
| 搜索结果 | 显示符合条件的用户列表 |
| 后续操作 | 决定后跳转到b15页面 |
