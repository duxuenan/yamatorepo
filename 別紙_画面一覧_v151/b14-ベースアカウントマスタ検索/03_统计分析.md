# b14-ベースアカウントマスタ検索 - 统计分析

## 数据统计维度

### 1. 搜索字段统计

| 字段名称 | 字段数量 | 数据类型 | 统计指标 |
|----------|----------|----------|----------|
| 検索条件 | 5个 | 混合 | 使用频率、搜索覆盖率 |

### 2. 权限分布统计

| 统计维度 | 计算方法 | 业务含义 |
|----------|----------|----------|
| 管理者数 | COUNT(WHERE permission='管理者') | 管理员数量 |
| 役割者数 | COUNT(WHERE permission='役割者') | 角色者数量 |
| 配車担当者数 | COUNT(WHERE permission='配車担当者') | 配车担当者数量 |
| 計上担当者数 | COUNT(WHERE permission='計上担当者') | 计入担当者数量 |
| 権限分布 | GROUP BY permission | 各权限占比 |

### 3. 账户状态统计

| 统计维度 | 计算方法 | 业务含义 |
|----------|----------|----------|
| 有效账户数 | COUNT(WHERE status='有効') | 可用账户数量 |
| 无效账户数 | COUNT(WHERE status='無効') | 停用账户数量 |
| 有效率 | COUNT(WHERE status='有効') / COUNT(*) | 账户活跃比例 |

### 4. 所属分布统计

| 统计维度 | 计算方法 | 业务含义 |
|----------|----------|----------|
| 所属分布 | GROUP BY affiliation | 各所属的账户分布 |
| 最多账户所属 | TOP 1 BY COUNT | 账户最多的所属 |

### 5. 示例数据结构

#### 搜索参数数据

```json
{
  "searchParams": {
    "userId": "123456789",
    "email": "@kuronekoyamato.co.jp",
    "userName": "佐々木",
    "affiliation": "東京ベース",
    "permission": "管理者"
  }
}
```

#### 搜索结果数据

```json
{
  "results": [
    {
      "userId": "123456789",
      "userName": "佐々木　小次郎",
      "affiliation": "東京ベース",
      "permission": "管理者",
      "accountStatus": "有効",
      "email": "123456789@kuronekoyamato.co.jp"
    },
    {
      "userId": "111111111",
      "userName": "宮本　武蔵",
      "affiliation": "羽田ベース",
      "permission": "計上担当者",
      "accountStatus": "有効",
      "email": "haneda@kuronekoyamato.co.jp"
    }
  ],
  "total": 2
}
```

## 业务统计报表建议

### 1. 账户统计报表

| 报表名称 | 统计内容 | 更新频率 |
|----------|----------|----------|
| アカウント一覧 | 所有账户列表 | 实时 |
| 権限別分布 | 各权限账户分布 | 实时 |
| 所属別分布 | 各所属账户分布 | 实时 |
| アクティブ率 | 有效账户占比 | 实时 |
| 無効アカウント一覧 | 无效账户详细列表 | 实时 |

### 2. 搜索统计报表

| 报表名称 | 统计内容 | 更新频率 |
|----------|----------|----------|
| 検索条件使用率 | 各搜索条件使用频率 | 每日 |
| 検索結果件数分布 | 搜索结果数量分布 | 每日 |
