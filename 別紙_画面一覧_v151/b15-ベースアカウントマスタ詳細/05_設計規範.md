# b15-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿è©³ç´° - è®¾è®¡è§„èŒƒ

## 1. åŠŸèƒ½æ¦‚è¿°

### 1.1 æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **å·¥ä½œè¡¨åç§°** | b15-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿è©³ç´° |
| **ç•Œé¢ç¼–å·** | b15 |
| **å¯¹åº”Baseç•Œé¢** | b14-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿æ¤œç´¢ |
| **æ–‡æ¡£ç‰ˆæœ¬** | v1.0.1 |
| **æœ€åæ›´æ–°** | 2026-02-10|
| **æ–‡æ¡£çŠ¶æ€** | âœ… å·²å‘å¸ƒ |

### 1.2 åŠŸèƒ½æè¿°

b15-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿è©³ç´°æ˜¯ãƒ™ãƒ¼ã‚¹ï¼ˆæ€»éƒ¨ï¼‰ä¾§çš„åŸºç¡€è´¦æˆ·è¯¦æƒ…ç®¡ç†é¡µé¢ã€‚ç®¡ç†è€…å¯ä»¥é€šè¿‡æ­¤é¡µé¢ï¼š

- æŸ¥çœ‹ç”¨æˆ·çš„åªè¯»ä¿¡æ¯ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼IDã€ãƒ¡ãƒ¼ãƒ«ã€æ°åï¼‰
- ç®¡ç†ç”¨æˆ·æ‰€å±ï¼ˆæ‰€å±ãƒ™ãƒ¼ã‚¹é¸æŠï¼‰
- ç®¡ç†ç”¨æˆ·æƒé™ï¼ˆç®¡ç†è€…/å½¹å‰²è€…/é…è»Šæ‹…å½“è€…/è¨ˆä¸Šæ‹…å½“è€…ï¼‰
- æŸ¥çœ‹æƒé™çŸ©é˜µï¼ˆæ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ï¼‰
- ç®¡ç†ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ãƒ»ç„¡åŠ¹çŠ¶æ€
- æ¨©é™å¤‰æ›´å±¥æ­´ã®ç¢ºèª

### 1.3 æŠ€æœ¯æ¶æ„

æœ¬æ–‡æ¡£åŸºäº **å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼Œè¯¦ç»†æŠ€æœ¯è§„èŒƒè¯·å‚è€ƒï¼š

ğŸ‘‰ **[\_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md](../_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md)**

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | React 18.x + TypeScript + Ant Design |
| åç«¯ | Spring Boot 3.x + Java 17 |
| æ•°æ®åº“ | PostgreSQL 15.x |

### 1.4 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|--------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±è¡¨ç¤º | æ˜¾ç¤ºç”¨æˆ·åªè¯»ä¿¡æ¯ | P0 |
| æ‰€å±è¨­å®š | æ‰€å±ãƒ™ãƒ¼ã‚¹çš„é€‰æ‹©å’Œç¼–è¾‘ | P0 |
| æ¨©é™è¨­å®š | æ¨©é™åŒºåˆ†ã®é€‰æ‹©å’Œç¼–è¾‘ | P0 |
| æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º | æƒé™çŸ©é˜µçš„å¯è§†åŒ–å±•ç¤º | P0 |
| ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹ç®¡ç† | æœ‰åŠ¹/ç„¡åŠ¹çŠ¶æ€åˆ‡æ¢ | P0 |
| ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ | æŸ¥çœ‹/ç¼–è¾‘æ¨¡å¼çš„åˆ‡æ¢ | P0 |

### 1.5 é€‚ç”¨èŒƒå›´

- å‰ç«¯å¼€å‘äººå‘˜ï¼ˆè¯¦æƒ…é¡µé¢ç»„ä»¶å®ç°ï¼‰
- åç«¯å¼€å‘äººå‘˜ï¼ˆè´¦æˆ·ç®¡ç†APIå¼€å‘ï¼‰
- æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆåŠŸèƒ½æµ‹è¯•ï¼‰

---

## 2. é¡µé¢å…ƒç´ 

### 2.1 å…ƒç´ æ¸…å•

| åºå· | å…ƒç´ åç§° | å…ƒç´ ç±»å‹ | åŠŸèƒ½è¯´æ˜ | äº¤äº’è§¦å‘ |
|------|----------|----------|----------|----------|
| â‘´ | ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ« | Text | é¡µé¢æ ‡é¢˜æ˜¾ç¤º | è¡¨ç¤º |
| â‘µ | ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ | Button | ç¼–è¾‘/æŸ¥çœ‹æ¨¡å¼åˆ‡æ¢ | ã‚¯ãƒªãƒƒã‚¯ |
| â‘¶ | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | Card | ç”¨æˆ·ä¿¡æ¯åªè¯»åŒºåŸŸ | è¡¨ç¤º |
| â‘· | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | Text | ç”¨æˆ·IDæ˜¾ç¤º | è¡¨ç¤º |
| â‘¸ | ãƒ¡ãƒ¼ãƒ« | Text | é‚®ç®±åœ°å€æ˜¾ç¤º | è¡¨ç¤º |
| â‘¹ | æ°å | Text | ç”¨æˆ·å§“åæ˜¾ç¤º | è¡¨ç¤º |
| â‘º | æ‰€å±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | Card | æ‰€å±è®¾ç½®åŒºåŸŸ | è¡¨ç¤º |
| â‘» | æ‰€å±ãƒ™ãƒ¼ã‚¹ | Select/Text | æ‰€å±ãƒ™ãƒ¼ã‚¹é€‰æ‹© | ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³é¸æŠ |
| â‘¼ | æ¨©é™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | Card | æƒé™è®¾ç½®åŒºåŸŸ | è¡¨ç¤º |
| â‘½ | æ¨©é™åŒºåˆ† | Radio | æ¨©é™åŒºåˆ†é€‰æ‹© | ãƒ©ã‚¸ã‚ªé¸æŠ |
| â‘¾ | æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ | Table | æƒé™çŸ©é˜µæ˜¾ç¤º | è¡¨ç¤º |
| â‘¿ | æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹è¦‹å‡ºã— | Text | æ¨©é™åŒºåˆ†æ ‡é¢˜ | è¡¨ç¤º |
| â’€ | æ¨©é™ä»˜ä¸åˆ— | Tag | æ¨©é™ä»˜ä¸æƒé™ | Tagè¡¨ç¤º |
| â’ | æ‰¿èªåˆ— | Tag | æ‰¿èªæ¨©é™ | Tagè¡¨ç¤º |
| â’‚ | ãƒã‚¹ã‚¿ç®¡ç†åˆ— | Tag | ãƒã‚¹ã‚¿ç®¡ç†æ¨©é™ | Tagè¡¨ç¤º |
| â’ƒ | ç™ºæ³¨åˆ— | Tag | ç™ºæ³¨æ¨©é™ | Tagè¡¨ç¤º |
| â’„ | è¨ˆä¸Šåˆ— | Tag | è¨ˆä¸Šæ¨©é™ | Tagè¡¨ç¤º |
| â’… | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | Card | è´¦æˆ·çŠ¶æ€åŒºåŸŸ | è¡¨ç¤º |
| â’† | æœ‰åŠ¹/ç„¡åŠ¹åˆ‡æ›¿ | Switch | çŠ¶æ€åˆ‡æ¢å¼€å…³ | ã‚¹ã‚¤ãƒƒãƒ |
| â’‡ | çŠ¶æ…‹èª¬æ˜ | Text | çŠ¶æ€è¯´æ˜æ–‡å­— | è¡¨ç¤º |
| (21) | æˆ»ã‚‹ãƒœã‚¿ãƒ³ | Button | è¿”å›ä¸Šä¸€é¡µ | ã‚¯ãƒªãƒƒã‚¯ |
| (22) | ä¿å­˜ãƒœã‚¿ãƒ³ | Primary Button | ä¿å­˜è®¾ç½® | ã‚¯ãƒªãƒƒã‚¯ |
| (23) | ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ | Default Button | å–æ¶ˆç¼–è¾‘ | ã‚¯ãƒªãƒƒã‚¯ |

### 2.2 ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è©³ç´°èª¬æ˜

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | è¦ç´ ã‚¿ã‚¤ãƒ— | åˆ¶ç´„ | ãƒ‡ãƒ¼ã‚¿å½¢å¼ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ç·¨é›†å¯å¦ |
|-----------|-----------|------|-----------|----------|----------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | Text | å¿…é ˆ | æ–‡å­—åˆ— | - | é–²è¦§ã®ã¿ |
| ãƒ¡ãƒ¼ãƒ« | Text | å¿…é ˆ,emailå½¢å¼ | æ–‡å­—åˆ— | - | é–²è¦§ã®ã¿ |
| æ°å | Text | å¿…é ˆ | æ–‡å­—åˆ— | - | é–²è¦§ã®ã¿ |
| æ‰€å±ãƒ™ãƒ¼ã‚¹ | Select | å¿…é ˆ | ãƒªã‚¹ãƒˆã‹ã‚‰é¸æŠ | - | ç·¨é›†å¯ |
| æ¨©é™åŒºåˆ† | Radio | å¿…é ˆ | åˆ—æŒ™å€¤ | å½¹å‰²è€… | ç·¨é›†å¯ |
| ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ãƒ»ç„¡åŠ¹ | Switch | å¿…é ˆ | æœ‰åŠ¹/ç„¡åŠ¹ | æœ‰åŠ¹ | ç·¨é›†å¯ |

### 2.3 æ¨©é™åŒºåˆ†å€¤è©³ç´°

| æ¨©é™å€¤ | è¡¨ç¤ºå | ã‚¿ã‚°è‰² | èª¬æ˜ |
|--------|--------|--------|------|
| ç®¡ç†è€… | ç®¡ç†è€… | èµ¤è‰² | å…¨æ¨©é™æŒæœ‰è€… |
| å½¹å‰²è€… | å½¹å‰²è€… | é’è‰² | ä¸€èˆ¬å½¹å‰²è€… |
| é…è»Šæ‹…å½“è€… | é…è»Šæ‹…å½“è€… | ç·‘è‰² | é…è»Šæ¥­å‹™æ‹…å½“è€… |
| è¨ˆä¸Šæ‹…å½“è€… | è¨ˆä¸Šæ‹…å½“è€… | æ©™è‰² | è¨ˆä¸Šæ¥­å‹™æ‹…å½“è€… |

### 2.4 æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹è©³ç´°

| æ¨©é™åŒºåˆ† | æ¨©é™ä»˜ä¸ | æ‰¿èª | ãƒã‚¹ã‚¿ç®¡ç† | ç™ºæ³¨ | è¨ˆä¸Š |
|----------|----------|------|------------|------|------|
| ç®¡ç†è€… | ç·¨é›†å¯ | ç·¨é›†å¯ | ç·¨é›†å¯ | é–²è¦§ã®ã¿ | é–²è¦§ã®ã¿ |
| å½¹å‰²è€… | é–²è¦§ä¸å¯ | é–²è¦§ã®ã¿ | ç·¨é›†å¯ | ç·¨é›†å¯ | é–²è¦§ä¸å¯ |
| é…è»Šæ‹…å½“è€… | é–²è¦§ä¸å¯ | é–²è¦§ã®ã¿ | é–²è¦§ä¸å¯ | ç·¨é›†å¯ | é–²è¦§ã®ã¿ |
| è¨ˆä¸Šæ‹…å½“è€… | é–²è¦§ä¸å¯ | é–²è¦§ã®ã¿ | é–²è¦§ä¸å¯ | é–²è¦§ä¸å¯ | ç·¨é›†å¯ |

### 2.5 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤è©³ç´°

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ | è¡¨ç¤ºå | ã‚¿ã‚°è‰² | èª¬æ˜ |
|--------------|--------|--------|------|
| æœ‰åŠ¹ | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ | ç·‘è‰² | è´¦æˆ·æ­£å¸¸ä½¿ç”¨ä¸­ |
| ç„¡åŠ¹ | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹ | èµ¤è‰² | è´¦æˆ·å·²ç¦ç”¨ |
| ç·¨é›†å¯ | ã€‡ ç·¨é›†å¯ | ç·‘è‰² | å¯ç¼–è¾‘çŠ¶æ€ |
| é–²è¦§ã®ã¿ | â–³ é–²è¦§ã®ã¿ | æ©™è‰² | ä»…æŸ¥çœ‹çŠ¶æ€ |
| é–²è¦§ä¸å¯ | Ã— é–²è¦§ä¸å¯ | èµ¤è‰² | ä¸å¯è®¿é—®çŠ¶æ€ |

---

## 3. äº¤äº’æµç¨‹

### 3.1 ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼

| ã‚¹ãƒ†ãƒƒãƒ— | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ã‚·ã‚¹ãƒ†ãƒ å¿œç­” |
|----------|-----------|--------------|
| 1 | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒb15ãƒšãƒ¼ã‚¸ã¸é·ç§» | ãƒšãƒ¼ã‚¸åˆæœŸåŒ– |
| 2 | URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰userIdå–å¾— | userIdæŠ½å‡º |
| 3 | æ—¢å­˜ãƒ‡ãƒ¼ã‚¿å–å¾— | GET /api/v1/base-accounts/{userId} |
| 4 | ãƒ™ãƒ¼ã‚¹ä¸€è¦§å–å¾— | GET /api/v1/base-list |
| 5 | APIãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡ | å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¡¨ç¤ºè¨­å®š |
| 6 | æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ç”Ÿæˆ | æ¨©é™åŒºåˆ†ã«åŸºã¥ã„ã¦è¨ˆç®— |
| 7 | ãƒšãƒ¼ã‚¸è¡¨ç¤ºå®Œäº† | é–²è¦§ãƒ¢ãƒ¼ãƒ‰ã§è¡¨ç¤º |

### 3.2 ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒ•ãƒ­ãƒ¼

| ã‚¹ãƒ†ãƒƒãƒ— | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | ã‚·ã‚¹ãƒ†ãƒ å¿œç­” |
|----------|-------------|--------------|
| 1 | ç·¨é›†ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ |
| 2 | å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æœ‰åŠ¹åŒ– | å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¥åŠ›å¯ |
| 3 | ä¿å­˜ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ |
| 4 | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ | æ›´æ–°APIå®Ÿè¡Œ |
| 5 | æ›´æ–°æˆåŠŸ | ä¿å­˜å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |
| 6 | é–²è¦§ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ | æ›´æ–°å¾Œã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º |

### 3.3 ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ•ãƒ­ãƒ¼

| ã‚¹ãƒ†ãƒƒãƒ— | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | ã‚·ã‚¹ãƒ†ãƒ å¿œç­” |
|----------|-------------|--------------|
| 1 | ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º |
| 2 | ç¢ºèª | é–²è¦§ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ |
| 3 | åŸå§‹ãƒ‡ãƒ¼ã‚¿ã«å¾©å…ƒ | ãƒ•ã‚©ãƒ¼ãƒ å€¤ã‚’ãƒªã‚»ãƒƒãƒˆ |

### 3.4 æ¨©é™åŒºåˆ†å¤‰æ›´ãƒ•ãƒ­ãƒ¼

| ã‚¹ãƒ†ãƒƒãƒ— | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | ã‚·ã‚¹ãƒ†ãƒ å¿œç­” |
|----------|-------------|--------------|
| 1 | ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³é¸æŠå¤‰æ›´ | æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹å†è¨ˆç®— |
| 2 | æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹è¡¨ç¤ºæ›´æ–° | è©²å½“æ¨©é™åŒºåˆ†ã«åŸºã¥ãè¡Œåˆ—è¡¨ç¤º |

### 3.5 çŠ¶æ€åˆ‡æ¢ãƒ•ãƒ­ãƒ¼

| ã‚¹ãƒ†ãƒƒãƒ— | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | ã‚·ã‚¹ãƒ†ãƒ å¿œç­” |
|----------|-------------|--------------|
| 1 | Switchã‚¯ãƒªãƒƒã‚¯ | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º |
| 2 | ç¢ºèª | æ›´æ–°APIå®Ÿè¡Œ |
| 3 | æ›´æ–°æˆåŠŸ | çŠ¶æ…‹è¡¨ç¤ºæ›´æ–°ã€å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |

### 3.6 æ‰€å±å¤‰æ›´ãƒ•ãƒ­ãƒ¼

| ã‚¹ãƒ†ãƒƒãƒ— | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | ã‚·ã‚¹ãƒ†ãƒ å¿œç­” |
|----------|-------------|--------------|
| 1 | ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é¸æŠ | æ‰€å±ãƒ™ãƒ¼ã‚¹é¸æŠ |
| 2 | ä¿å­˜ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ |
| 3 | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ | æ›´æ–°APIå®Ÿè¡Œ |
| 4 | æ›´æ–°æˆåŠŸ | å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |

---

## 4. ç•Œé¢è§„èŒƒ

### 4.1 ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

| å±æ€§ | PCç«¯å€¤ | SPç«¯å€¤ | èª¬æ˜ |
|------|--------|--------|------|
| **ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—** | PCã®ã¿ | - | PCä¸“ç”¨é¡µé¢ |
| **ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®** | å‚ç›´é…ç½® | å‚ç›´é…ç½® | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±â†’æ‰€å±â†’æ¨©é™â†’æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹â†’çŠ¶æ…‹ |
| **ã‚«ãƒ¼ãƒ‰é–“éš”** | 24px | 16px | ã‚«ãƒ¼ãƒ‰é–“ä½™ç™½ |

### 4.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜

| å±æ€§ | å€¤ | èª¬æ˜ |
|------|----|------|
| **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«** | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± | å›ºå®šæ ‡é¢˜ |
| **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é…ç½®** | ã‚°ãƒªãƒƒãƒ‰é…ç½® | 2åˆ—ã‚°ãƒªãƒƒãƒ‰ |
| **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é–“éš”** | 16px | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é–“ä½™ç™½ |

### 4.3 æ‰€å±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜

| å±æ€§ | å€¤ | èª¬æ˜ |
|------|----|------|
| **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«** | æ‰€å± | å›ºå®šæ ‡é¢˜ |
| **ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼å¹…** | 300px | PCç«¯å›ºå®šå¹… |

### 4.4 æ¨©é™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜

| å±æ€§ | å€¤ | èª¬æ˜ |
|------|----|------|
| **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«** | æ¨©é™ | å›ºå®šæ ‡é¢˜ |
| **ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³é…ç½®** | å‚ç›´é…ç½® | å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‚ç›´æ’åˆ— |

### 4.5 æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ä»•æ§˜

| å±æ€§ | å€¤ | èª¬æ˜ |
|------|----|------|
| **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«** | æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ | å›ºå®šæ ‡é¢˜ |
| **ãƒ†ãƒ¼ãƒ–ãƒ«å¹…** | 100% | å¹…ä¸€æ¯ |
| **åˆ—æ•°** | 6åˆ— | æ©Ÿèƒ½ï¼‹5æ¨©é™ |

### 4.6 ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜

| å±æ€§ | å€¤ | èª¬æ˜ |
|------|----|------|
| **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«** | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ãƒ»ç„¡åŠ¹ | å›ºå®šæ ‡é¢˜ |
| **Switché…ç½®** | å·¦é…ç½® | å¼€å…³å·¦å¯¹é½ |
| **èª¬æ˜æ–‡** | å³é…ç½® | èª¬æ˜æ–‡å­—å³é…ç½® |

### 4.7 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¿ã‚°ä»•æ§˜

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | èƒŒæ™¯è‰² | æ–‡å­—è‰² | èª¬æ˜ |
|-----------|--------|--------|------|
| æœ‰åŠ¹ | #52c41a | #ffffff | ç»¿è‰²æ ‡ç­¾ |
| ç„¡åŠ¹ | #f5222d | #ffffff | çº¢è‰²æ ‡ç­¾ |
| ç·¨é›†å¯ | #52c41a | #ffffff | ç»¿è‰²æ ‡ç­¾ |
| é–²è¦§ã®ã¿ | #fa8c16 | #ffffff | æ©™è‰²æ ‡ç­¾ |
| é–²è¦§ä¸å¯ | #f5222d | #ffffff | çº¢è‰²æ ‡ç­¾ |

---

## 5. APIæ¥å£è®¾è®¡

### 5.1 ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè©³ç´°å–å¾—API

```typescript
// GET /api/v1/base-accounts/{userId}
interface GetBaseAccountDetailRequest {
  userId: string;
}

interface GetBaseAccountDetailResponse {
  success: boolean;
  data: {
    userId: string;
    email: string;
    userName: string;
    affiliation: string;
    permission: PermissionType;
    permissionMatrix: PermissionMatrix;
    accountStatus: 'æœ‰åŠ¹' | 'ç„¡åŠ¹';
    azureAdId: string;
    createdAt: string;
    updatedAt: string;
    lastLoginAt?: string;
  };
  error?: {
    code: string;
    message: string;
  };
}

type PermissionType = 'ç®¡ç†è€…' | 'å½¹å‰²è€…' | 'é…è»Šæ‹…å½“è€…' | 'è¨ˆä¸Šæ‹…å½“è€…';

interface PermissionMatrix {
  æ¨©é™ä»˜ä¸: 'ç·¨é›†å¯' | 'é–²è¦§ã®ã¿' | 'é–²è¦§ä¸å¯';
  æ‰¿èª: 'ç·¨é›†å¯' | 'é–²è¦§ã®ã¿' | 'é–²è¦§ä¸å¯';
  ãƒã‚¹ã‚¿ç®¡ç†: 'ç·¨é›†å¯' | 'é–²è¦§ã®ã¿' | 'é–²è¦§ä¸å¯';
  ç™ºæ³¨: 'ç·¨é›†å¯' | 'é–²è¦§ã®ã¿' | 'é–²è¦§ä¸å¯';
  è¨ˆä¸Š: 'ç·¨é›†å¯' | 'é–²è¦§ã®ã¿' | 'é–²è¦§ä¸å¯';
}
```

### 5.2 ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±æ›´æ–°API

```typescript
// PUT /api/v1/base-accounts/{userId}
interface UpdateBaseAccountRequest {
  userId: string;
  updateData: {
    affiliation?: string;
    permission?: PermissionType;
    accountStatus?: 'æœ‰åŠ¹' | 'ç„¡åŠ¹';
  };
}

interface UpdateBaseAccountResponse {
  success: boolean;
  message: string;
}
```

### 5.3 ãƒ™ãƒ¼ã‚¹ä¸€è¦§å–å¾—API

```typescript
// GET /api/v1/base-list
interface GetBaseListResponse {
  success: boolean;
  data: {
    bases: BaseInfo[];
  };
}

interface BaseInfo {
  baseId: string;
  baseName: string;
  baseType: 'ãƒ™ãƒ¼ã‚¹' | 'æœ¬ç¤¾';
}
```

### 5.4 æ¨©é™å±¥æ­´å–å¾—API

```typescript
// GET /api/v1/base-accounts/{userId}/history
interface GetPermissionHistoryResponse {
  success: boolean;
  data: {
    history: PermissionHistoryItem[];
  };
}

interface PermissionHistoryItem {
  changeId: string;
  changedField: string;
  beforeValue: string;
  afterValue: string;
  changedBy: string;
  changedAt: string;
  changeReason?: string;
}
```

### 5.6 ç”»é¢-API-æ•°æ®åº“å…³ç³»æ˜ å°„è¡¨

#### 5.6.1 å…³ç³»æ€»è§ˆè¡¨

| ç”»é¢å…ƒç´  | APIæ¥å£ | æ¥å£åŠŸèƒ½è¯´æ˜ | ç›¸å…³æ•°æ®åº“è¡¨ | å­—æ®µå…³ç³» |
|----------|---------|--------------|--------------|----------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | GET /api/v1/base-accounts/{userId} | è·å–ç”¨æˆ·ID | m_base_accounts | user_id â†’ userId (åªè¯») |
| ãƒ¡ãƒ¼ãƒ« | GET /api/v1/base-accounts/{userId} | è·å–é‚®ç®±åœ°å€ | m_base_accounts | email â†’ email (åªè¯») |
| æ°å | GET /api/v1/base-accounts/{userId} | è·å–ç”¨æˆ·å§“å | m_base_accounts | user_name â†’ userName (åªè¯») |
| æ‰€å±ãƒ™ãƒ¼ã‚¹ | GET /api/v1/base-list | è·å–ãƒ™ãƒ¼ã‚¹åˆ—è¡¨ | m_bases | baseName â†’ Selecté€‰é¡¹ |
| æ‰€å±ãƒ™ãƒ¼ã‚¹ | PUT /api/v1/base-accounts/{userId} | æ›´æ–°æ‰€å± | m_base_accounts | affiliation â† updateData.affiliation |
| æ¨©é™åŒºåˆ† | GET /api/v1/base-accounts/{userId} | è·å–æƒé™åŒºåˆ† | m_base_accounts | permission â†’ permission (åªè¯») |
| æ¨©é™åŒºåˆ† | PUT /api/v1/base-accounts/{userId} | æ›´æ–°æƒé™åŒºåˆ† | m_base_accounts | permission â† updateData.permission |
| æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ | GET /api/v1/base-accounts/{userId} | è·å–æƒé™çŸ©é˜µ | m_base_accounts | permission â†’ permissionMatrix (è®¡ç®—) |
| ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ãƒ»ç„¡åŠ¹ | GET /api/v1/base-accounts/{userId} | è·å–è´¦æˆ·çŠ¶æ€ | m_base_accounts | account_status â†’ accountStatus (åªè¯») |
| ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ãƒ»ç„¡åŠ¹ | PUT /api/v1/base-accounts/{userId} | æ›´æ–°è´¦æˆ·çŠ¶æ€ | m_base_accounts | account_status â† updateData.accountStatus |
| æ¨©é™å±¥æ­´ | GET /api/v1/base-accounts/{userId}/history | è·å–æƒé™å˜æ›´å†å² | m_base_account_audit_log | å­—æ®µç›´æ¥æ˜ å°„ |

#### 5.6.2 å…³ç³»è¯´æ˜

**é¡µé¢åŠ è½½æµç¨‹**ï¼š
1. ç”¨æˆ·ä»b14é¡µé¢ç‚¹å‡»ç”¨æˆ·IDé“¾æ¥è¿›å…¥b15é¡µé¢
2. URLå‚æ•°è§£æè·å– userId
3. å¹¶è¡Œè°ƒç”¨è´¦æˆ·è¯¦æƒ…APIå’Œãƒ™ãƒ¼ã‚¹åˆ—è¡¨API
4. APIä»m_base_accountsè·å–è´¦æˆ·æ•°æ®
5. æ ¹æ®permissionå­—æ®µè®¡ç®—æƒé™çŸ©é˜µ
6. é¡µé¢æ¸²æŸ“å„CardåŒºå—

**ç¼–è¾‘æ‰§è¡Œæµç¨‹**ï¼š
1. ç”¨æˆ·ç‚¹å‡»ç·¨é›†æŒ‰é’®åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼
2. ç”¨æˆ·ä¿®æ”¹æ‰€å±ãƒ™ãƒ¼ã‚¹/æ¨©é™åŒºåˆ†/ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹
3. ç‚¹å‡»ä¿å­˜æŒ‰é’®
4. æ„å»ºæ›´æ–°å‚æ•°ï¼Œè°ƒç”¨PUT API
5. åç«¯æ›´æ–°m_base_accountså¯¹åº”å­—æ®µ
6. è®°å½•å˜æ›´æ—¥å¿—åˆ°m_base_account_audit_log

**æƒé™çŸ©é˜µè®¡ç®—é€»è¾‘**ï¼š
- ç®¡ç†è€…: æ¨©é™ä»˜ä¸=ç·¨é›†å¯, æ‰¿èª=ç·¨é›†å¯, ãƒã‚¹ã‚¿ç®¡ç†=ç·¨é›†å¯, ç™ºæ³¨=é–²è¦§ã®ã¿, è¨ˆä¸Š=é–²è¦§ã®ã¿
- å½¹å‰²è€…: æ¨©é™ä»˜ä¸=é–²è¦§ä¸å¯, æ‰¿èª=é–²è¦§ã®ã¿, ãƒã‚¹ã‚¿ç®¡ç†=ç·¨é›†å¯, ç™ºæ³¨=ç·¨é›†å¯, è¨ˆä¸Š=é–²è¦§ä¸å¯
- é…è»Šæ‹…å½“è€…: æ¨©é™ä»˜ä¸=é–²è¦§ä¸å¯, æ‰¿èª=é–²è¦§ã®ã¿, ãƒã‚¹ã‚¿ç®¡ç†=é–²è¦§ä¸å¯, ç™ºæ³¨=ç·¨é›†å¯, è¨ˆä¸Š=é–²è¦§ã®ã¿
- è¨ˆä¸Šæ‹…å½“è€…: æ¨©é™ä»˜ä¸=é–²è¦§ä¸å¯, æ‰¿èª=é–²è¦§ã®ã¿, ãƒã‚¹ã‚¿ç®¡ç†=é–²è¦§ä¸å¯, ç™ºæ³¨=é–²è¦§ä¸å¯, è¨ˆä¸Š=ç·¨é›†å¯

**æ•°æ®è¡¨å…³ç³»ï¼ˆERå›¾ï¼‰**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     m_base_accounts                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: id                                                       â”‚
â”‚    user_id (UNIQUE)                                          â”‚
â”‚    user_name                                                 â”‚
â”‚    email (UNIQUE)                                            â”‚
â”‚    affiliation                                               â”‚
â”‚    permission                                                â”‚
â”‚    account_status                                           â”‚
â”‚    azure_ad_id                                              â”‚
â”‚    roles[]                                                   â”‚
â”‚    permissions[]                                            â”‚
â”‚    last_login_at                                            â”‚
â”‚    created_at                                               â”‚
â”‚    updated_at                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ 1:N
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                m_base_account_audit_log                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: id                                                       â”‚
â”‚ FK: user_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º m_base_accounts          â”‚
â”‚    action                                                   â”‚
â”‚    before_value                                             â”‚
â”‚    after_value                                              â”‚
â”‚    performed_by                                             â”‚
â”‚    performed_at                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ N:1
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        m_bases                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: base_id                                                  â”‚
â”‚    base_name                                                 â”‚
â”‚    base_type                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å­—æ®µæ˜ å°„é€»è¾‘**ï¼š
- m_base_accounts.permission (ENUM) â†” API permission ('ç®¡ç†è€…'|'å½¹å‰²è€…'|'é…è»Šæ‹…å½“è€…'|'è¨ˆä¸Šæ‹…å½“è€…')
- m_base_accounts.account_status (ENUM) â†” API accountStatus ('æœ‰åŠ¹'|'ç„¡åŠ¹')
- m_base_accounts.affiliation â†” API affiliation (æ‰€å±ãƒ™ãƒ¼ã‚¹å)
- m_base_account_audit_log.action = 'PERMISSION_CHANGE' â†” æƒé™å˜æ›´è®°å½•

#### 5.6.3 æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç”¨æˆ·æ“ä½œå±‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ç·¨é›†ï¾“ï½°ï¾„ï¾åˆ‡æ¢â”‚    â”‚æ‰€å±é¸æŠ  â”‚    â”‚æ¨©é™åŒºåˆ†  â”‚    â”‚çŠ¶æ…‹Switchâ”‚              â”‚
â”‚  â”‚  Button  â”‚    â”‚ Select   â”‚    â”‚ Radio    â”‚    â”‚ Switch   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚              â”‚              â”‚
        â–¼              â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           React Frontend                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  BaseAccountDetailPage.tsx                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚UserInfo    â”‚  â”‚Affiliation â”‚  â”‚  PermissionSection          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚(åªè¯»)      â”‚  â”‚(å¯ç¼–è¾‘)     â”‚  â”‚  PermissionMatrix(è®¡ç®—)     â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚              â”‚
        â”‚ GET/PUT     â”‚ GET          â”‚ GET
        â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REST API Layer                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  GET /api/v1/base-accounts/{userId}                                    â”‚   â”‚
â”‚  â”‚  PUT /api/v1/base-accounts/{userId}                                   â”‚   â”‚
â”‚  â”‚  GET /api/v1/base-list                                                â”‚   â”‚
â”‚  â”‚  GET /api/v1/base-accounts/{userId}/history                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚              â”‚
        â”‚ SQL SELECT   â”‚ SQL UPDATE   â”‚ SQL SELECT
        â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Database Layer (PostgreSQL)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       m_base_accounts                   â”‚  â”‚  m_base_account_audit_log  â”‚  â”‚
â”‚  â”‚       (åŸºç¡€è´¦æˆ·ä¸»è¡¨)                    â”‚  â”‚  (è´¦æˆ·æ“ä½œå®¡è®¡æ—¥å¿—è¡¨)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â–²                                      â”‚                            â”‚
â”‚         â”‚ FK                                   â”‚ FK                          â”‚
â”‚         â”‚                                      â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚            m_bases                      â”‚                                 â”‚
â”‚  â”‚            (ãƒ™ãƒ¼ã‚¹ä¸»è¡¨)                 â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.6.4 æ ¸å¿ƒæ•°æ®åº“è¡¨ç»“æ„

**m_base_accountsï¼ˆåŸºç¡€è´¦æˆ·ä¸»è¡¨ï¼‰**

| å­—æ®µå | æ•°æ®ç±»å‹ | çº¦æŸ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|----------|------|--------|------|
| id | BIGSERIAL | PK | - | è‡ªå¢ID |
| user_id | VARCHAR(50) | UNIQUE, NOT NULL | - | ç”¨æˆ·ID |
| user_name | VARCHAR(200) | NOT NULL | - | ç”¨æˆ·å§“å |
| email | VARCHAR(200) | UNIQUE, NOT NULL | - | é‚®ç®±åœ°å€ |
| affiliation | VARCHAR(200) | NULL | - | æ‰€å±ãƒ™ãƒ¼ã‚¹å |
| permission | ENUM('ç®¡ç†è€…','å½¹å‰²è€…','é…è»Šæ‹…å½“è€…','è¨ˆä¸Šæ‹…å½“è€…') | NOT NULL | 'å½¹å‰²è€…' | æ¨©é™åŒºåˆ† |
| account_status | ENUM('æœ‰åŠ¹','ç„¡åŠ¹') | NOT NULL | 'æœ‰åŠ¹' | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹ |
| azure_ad_id | VARCHAR(100) | NULL | - | AzureADã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆID |
| roles | TEXT[] | NULL | - | å½¹å‰²ãƒªã‚¹ãƒˆ |
| permissions | TEXT[] | NULL | - | æ¨©é™ãƒªã‚¹ãƒˆ |
| last_login_at | TIMESTAMP | NULL | - | æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³æ—¥æ™‚ |
| created_at | TIMESTAMP | NOT NULL | CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | NOT NULL | CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

**m_base_account_audit_logï¼ˆåŸºç¡€è´¦æˆ·æ“ä½œå®¡è®¡æ—¥å¿—è¡¨ï¼‰**

| å­—æ®µå | æ•°æ®ç±»å‹ | çº¦æŸ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|----------|------|--------|------|
| id | BIGSERIAL | PK | - | æ—¥å¿—ID |
| user_id | VARCHAR(50) | FK â†’ m_base_accounts, NOT NULL | - | å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| action | VARCHAR(50) | NOT NULL | - | æ“ä½œåŒºåˆ†ï¼ˆå¦‚ï¼šPERMISSION_CHANGEï¼‰ |
| before_value | TEXT | NULL | - | å¤‰æ›´å‰å€¤ |
| after_value | TEXT | NULL | - | å¤‰æ›´å¾Œå€¤ |
| performed_by | VARCHAR(100) | NOT NULL | - | å®Ÿè¡Œè€… |
| performed_at | TIMESTAMP | NOT NULL | CURRENT_TIMESTAMP | æ‰§è¡Œæ—¶é—´ |

**m_basesï¼ˆãƒ™ãƒ¼ã‚¹ä¸»è¡¨ï¼‰**

| å­—æ®µå | æ•°æ®ç±»å‹ | çº¦æŸ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|----------|------|--------|------|
| base_id | VARCHAR(50) | PK, NOT NULL | - | ãƒ™ãƒ¼ã‚¹ID |
| base_name | VARCHAR(200) | NOT NULL | - | ãƒ™ãƒ¼ã‚¹åç§° |
| base_type | ENUM('ãƒ™ãƒ¼ã‚¹','æœ¬ç¤¾') | NOT NULL | 'ãƒ™ãƒ¼ã‚¹' | ãƒ™ãƒ¼ã‚¹ç±»å‹ |

**å…³è”å…³ç³»è¯´æ˜**ï¼š
- `m_base_accounts` ä¸ºç‹¬ç«‹ä¸»è¡¨ï¼Œè®°å½•åŸºç¡€è´¦æˆ·ä¿¡æ¯
- `m_base_account_audit_log` ä¸ `m_base_accounts` ä¸º N:1 å…³ç³»ï¼ˆä¸€ä¸ªè´¦æˆ·æœ‰å¤šä¸ªæ“ä½œæ—¥å¿—ï¼‰
- `m_base_accounts.affiliation` å…³è” `m_bases.base_name`
- åˆ é™¤è´¦æˆ·æ—¶ï¼Œé€šè¿‡çº§è”åˆ é™¤è‡ªåŠ¨åˆ é™¤å…³è”çš„å®¡è®¡æ—¥å¿—è®°å½•

```typescript
interface ApiErrorResponse {
  success: false;
  error: {
    code: ErrorCode;
    message: string;
    details?: Record<string, unknown>;
  };
}

type ErrorCode =
  | 'INVALID_PARAMETER'
  | 'ACCOUNT_NOT_FOUND'
  | 'INVALID_AFFILIATION'
  | 'INVALID_PERMISSION'
  | 'PERMISSION_DENIED'
  | 'LAST_ADMIN_ERROR'
  | 'SYSTEM_ERROR';
```

---

## 6. å‰ç«¯å®ç°

### 6.1 ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// BaseAccountDetailPage.tsx
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import {
  Card,
  Form,
  Input,
  Select,
  Button,
  Radio,
  Switch,
  Table,
  Tag,
  message,
  Space,
  Divider,
  Typography,
  Row,
  Col,
  Alert,
} from 'antd';
import {
  EditOutlined,
  SaveOutlined,
  CloseOutlined,
  ArrowLeftOutlined,
  HistoryOutlined,
} from '@ant-design/icons';
import { BaseAccount, PermissionMatrix, PermissionType } from '../../types/baseAccount';
import { getBaseAccount, updateBaseAccount, getBaseList } from '../../api/baseAccount';
import styles from './BaseAccountDetailPage.module.css';

const { Title, Text, Paragraph } = Typography;

type Mode = 'view' | 'edit';

const permissionOptions: { value: PermissionType; label: string; color: string }[] = [
  { value: 'ç®¡ç†è€…', label: 'ç®¡ç†è€…', color: 'red' },
  { value: 'å½¹å‰²è€…', label: 'å½¹å‰²è€…', color: 'blue' },
  { value: 'é…è»Šæ‹…å½“è€…', label: 'é…è»Šæ‹…å½“è€…', color: 'green' },
  { value: 'è¨ˆä¸Šæ‹…å½“è€…', label: 'è¨ˆä¸Šæ‹…å½“è€…', color: 'orange' },
];

const permissionDisplay = {
  'ç·¨é›†å¯': { text: 'ã€‡ ç·¨é›†å¯', color: 'success' as const },
  'é–²è¦§ã®ã¿': { text: 'â–³ é–²è¦§ã®ã¿', color: 'warning' as const },
  'é–²è¦§ä¸å¯': { text: 'Ã— é–²è¦§ä¸å¯', color: 'error' as const },
};

const buildPermissionMatrix = (permission: PermissionType): PermissionMatrix => {
  const matrices: Record<PermissionType, PermissionMatrix> = {
    ç®¡ç†è€…: {
      æ¨©é™ä»˜ä¸: 'ç·¨é›†å¯',
      æ‰¿èª: 'ç·¨é›†å¯',
      ãƒã‚¹ã‚¿ç®¡ç†: 'ç·¨é›†å¯',
      ç™ºæ³¨: 'é–²è¦§ã®ã¿',
      è¨ˆä¸Š: 'é–²è¦§ã®ã¿',
    },
    å½¹å‰²è€…: {
      æ¨©é™ä»˜ä¸: 'é–²è¦§ä¸å¯',
      æ‰¿èª: 'é–²è¦§ã®ã¿',
      ãƒã‚¹ã‚¿ç®¡ç†: 'ç·¨é›†å¯',
      ç™ºæ³¨: 'ç·¨é›†å¯',
      è¨ˆä¸Š: 'é–²è¦§ä¸å¯',
    },
    é…è»Šæ‹…å½“è€…: {
      æ¨©é™ä»˜ä¸: 'é–²è¦§ä¸å¯',
      æ‰¿èª: 'é–²è¦§ã®ã¿',
      ãƒã‚¹ã‚¿ç®¡ç†: 'é–²è¦§ä¸å¯',
      ç™ºæ³¨: 'ç·¨é›†å¯',
      è¨ˆä¸Š: 'é–²è¦§ã®ã¿',
    },
    è¨ˆä¸Šæ‹…å½“è€…: {
      æ¨©é™ä»˜ä¸: 'é–²è¦§ä¸å¯',
      æ‰¿èª: 'é–²è¦§ã®ã¿',
      ãƒã‚¹ã‚¿ç®¡ç†: 'é–²è¦§ä¸å¯',
      ç™ºæ³¨: 'é–²è¦§ä¸å¯',
      è¨ˆä¸Š: 'ç·¨é›†å¯',
    },
  };
  return matrices[permission];
};

export const BaseAccountDetailPage: React.FC = () => {
  const { userId } = useParams<{ userId: string }>();
  const navigate = useNavigate();
  const [form] = Form.useForm();
  
  const [mode, setMode] = useState<Mode>('view');
  const [loading, setLoading] = useState(false);
  const [saving, setSaving] = useState(false);
  const [data, setData] = useState<BaseAccount | null>(null);
  const [baseList, setBaseList] = useState<{ value: string; label: string }[]>([]);
  const [originalData, setOriginalData] = useState<BaseAccount | null>(null);

  const permission = Form.useWatch('permission', form) as PermissionType;

  useEffect(() => {
    if (userId) {
      fetchData();
    }
  }, [userId]);

  const fetchData = async () => {
    if (!userId) return;
    setLoading(true);
    try {
      const [accountResponse, baseListResponse] = await Promise.all([
        getBaseAccount(userId),
        getBaseList(),
      ]);

      if (accountResponse.success && accountResponse.data) {
        setData(accountResponse.data);
        setOriginalData(accountResponse.data);
        form.setFieldsValue(accountResponse.data);
      } else {
        message.error(accountResponse.error?.message || 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }

      if (baseListResponse.success && baseListResponse.data) {
        setBaseList(baseListResponse.data.bases.map(base => ({
          value: base.baseName,
          label: base.baseName,
        })));
      }
    } catch (error) {
      message.error('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
      console.error('Fetch error:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleEdit = () => {
    setMode('edit');
    if (data) {
      form.setFieldsValue(data);
    }
  };

  const handleCancel = () => {
    setMode('view');
    if (originalData) {
      form.setFieldsValue(originalData);
    }
  };

  const handleSave = async () => {
    if (!userId) return;
    try {
      const values = await form.validateFields();
      setSaving(true);

      const response = await updateBaseAccount(userId, values);
      
      if (response.success) {
        message.success('ä¿å­˜ã—ã¾ã—ãŸ');
        setMode('view');
        fetchData();
      } else {
        message.error(response.error?.message || 'ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      message.error('ä¿å­˜ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
      console.error('Save error:', error);
    } finally {
      setSaving(false);
    }
  };

  const matrix = permission ? buildPermissionMatrix(permission) : null;

  const matrixColumns = [
    {
      title: '',
      dataIndex: 'feature',
      key: 'feature',
      width: 150,
    },
    {
      title: 'æ¨©é™ä»˜ä¸',
      dataIndex: 'permissionGrant',
      key: 'permissionGrant',
      width: 120,
      render: (value: string) => {
        const config = permissionDisplay[value as keyof typeof permissionDisplay];
        return <Tag color={config?.color}>{config?.text || value}</Tag>;
      },
    },
    {
      title: 'æ‰¿èª',
      dataIndex: 'approval',
      key: 'approval',
      width: 120,
      render: (value: string) => {
        const config = permissionDisplay[value as keyof typeof permissionDisplay];
        return <Tag color={config?.color}>{config?.text || value}</Tag>;
      },
    },
    {
      title: 'ãƒã‚¹ã‚¿ç®¡ç†',
      dataIndex: 'masterManagement',
      key: 'masterManagement',
      width: 120,
      render: (value: string) => {
        const config = permissionDisplay[value as keyof typeof permissionDisplay];
        return <Tag color={config?.color}>{config?.text || value}</Tag>;
      },
    },
    {
      title: 'ç™ºæ³¨',
      dataIndex: 'ordering',
      key: 'ordering',
      width: 120,
      render: (value: string) => {
        const config = permissionDisplay[value as keyof typeof permissionDisplay];
        return <Tag color={config?.color}>{config?.text || value}</Tag>;
      },
    },
    {
      title: 'è¨ˆä¸Š',
      dataIndex: 'booking',
      key: 'booking',
      width: 120,
      render: (value: string) => {
        const config = permissionDisplay[value as keyof typeof permissionDisplay];
        return <Tag color={config?.color}>{config?.text || value}</Tag>;
      },
    },
  ];

  const matrixData = matrix ? [
    {
      key: 'current',
      feature: `ã€${permission || data?.permission}ã€‘ã®æ¨©é™`,
      permissionGrant: matrix.æ¨©é™ä»˜ä¸,
      approval: matrix.æ‰¿èª,
      masterManagement: matrix.ãƒã‚¹ã‚¿ç®¡ç†,
      ordering: matrix.ç™ºæ³¨,
      booking: matrix.è¨ˆä¸Š,
    },
  ] : [];

  if (loading) {
    return <div className={styles.loading}>Loading...</div>;
  }

  if (!data) {
    return <div className={styles.error}>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>;
  }

  return (
    <div className={styles.container}>
      <div className={styles.header}>
        <Space>
          <Button
            icon={<ArrowLeftOutlined />}
            onClick={() => navigate(-1)}
          >
            æˆ»ã‚‹
          </Button>
          <Title level={2}>ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿è©³ç´°</Title>
        </Space>
        <Space>
          {mode === 'view' ? (
            <Button
              type="primary"
              icon={<EditOutlined />}
              onClick={handleEdit}
            >
              ç·¨é›†
            </Button>
          ) : (
            <>
              <Button
                type="primary"
                icon={<SaveOutlined />}
                onClick={handleSave}
                loading={saving}
              >
                ä¿å­˜
              </Button>
              <Button
                icon={<CloseOutlined />}
                onClick={handleCancel}
              >
                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
              </Button>
            </>
          )}
        </Space>
      </div>

      <Form
        form={form}
        layout="vertical"
        disabled={mode === 'view'}
      >
        <Card title="ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±" className={styles.section}>
          <Row gutter={24}>
            <Col xs={24} sm={12} md={8}>
              <div className={styles.infoItem}>
                <Text type="secondary">ãƒ¦ãƒ¼ã‚¶ãƒ¼ID</Text>
                <Text strong>{data.userId}</Text>
              </div>
            </Col>
            <Col xs={24} sm={12} md={8}>
              <div className={styles.infoItem}>
                <Text type="secondary">ãƒ¡ãƒ¼ãƒ«</Text>
                <Text strong>{data.email}</Text>
              </div>
            </Col>
            <Col xs={24} sm={12} md={8}>
              <div className={styles.infoItem}>
                <Text type="secondary">æ°å</Text>
                <Text strong>{data.userName}</Text>
              </div>
            </Col>
          </Row>
        </Card>

        <Card title="æ‰€å±" className={styles.section}>
          <Form.Item
            name="affiliation"
            label="æ‰€å±ãƒ™ãƒ¼ã‚¹"
            rules={[{ required: true, message: 'æ‰€å±ã‚’é¸æŠã—ã¦ãã ã•ã„' }]}
          >
            <Select
              placeholder="ãƒ™ãƒ¼ã‚¹ã¾ãŸã¯ï¼Œæœ¬ç¤¾ã‚’é¸æŠ"
              options={baseList}
              className={styles.select}
            />
          </Form.Item>
        </Card>

        <Card title="æ¨©é™" className={styles.section}>
          <Form.Item
            name="permission"
            label="æ¨©é™åŒºåˆ†"
            rules={[{ required: true, message: 'æ¨©é™ã‚’é¸æŠã—ã¦ãã ã•ã„' }]}
          >
            <Radio.Group className={styles.permissionRadioGroup}>
              {permissionOptions.map(option => (
                <Radio.Button key={option.value} value={option.value}>
                  <Tag color={option.color}>{option.label}</Tag>
                </Radio.Button>
              ))}
            </Radio.Group>
          </Form.Item>
        </Card>

        <Card title="æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹" className={styles.section}>
          <Table
            columns={matrixColumns}
            dataSource={matrixData}
            rowKey="key"
            pagination={false}
            size="small"
            className={styles.permissionMatrixTable}
          />
        </Card>

        <Card title="ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹ãƒ»ç„¡åŠ¹" className={styles.section}>
          <Form.Item
            name="accountStatus"
            valuePropName="checked"
          >
            <Switch
              checkedChildren="æœ‰åŠ¹"
              unCheckedChildren="ç„¡åŠ¹"
              className={styles.statusSwitch}
            />
          </Form.Item>
          <Paragraph type="secondary">
            {form.getFieldValue('accountStatus') !== false
              ? 'æœ¬ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã§ãã‚‹çŠ¶æ…‹ã§ã™'
              : 'æœ¬ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã§ããªã„çŠ¶æ…‹ã§ã™'}
          </Paragraph>
        </Card>
      </Form>

      <Card className={styles.historySection} extra={
        <Button icon={<HistoryOutlined />}>å±¥æ­´è©³ç´°</Button>
      }>
        <div className={styles.timestamp}>
          <Text type="secondary">
            æœ€çµ‚æ›´æ–°: {data.updatedAt} | ä½œæˆæ—¥: {data.createdAt}
          </Text>
        </div>
      </Card>
    </div>
  );
};
```

### 6.2 APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

```typescript
// baseAccountApi.ts
import axios from 'axios';
import {
  GetBaseAccountDetailRequest,
  GetBaseAccountDetailResponse,
  UpdateBaseAccountRequest,
  UpdateBaseAccountResponse,
  GetBaseListResponse,
} from '../types/baseAccount';

const API_BASE_URL = '/api/v1';

const apiClient = axios.create({
  baseURL: API_BASE_URL,
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json',
  },
});

apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem('auth_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

apiClient.interceptors.response.use(
  (response) => response.data,
  (error) => {
    if (error.response?.status === 401) {
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export const getBaseAccount = async (
  userId: string
): Promise<GetBaseAccountDetailResponse> => {
  return apiClient.get(`/base-accounts/${userId}`);
};

export const updateBaseAccount = async (
  userId: string,
  data: UpdateBaseAccountRequest['updateData']
): Promise<UpdateBaseAccountResponse> => {
  return apiClient.put(`/base-accounts/${userId}`, { updateData: data });
};

export const getBaseList = async (): Promise<GetBaseListResponse> => {
  return apiClient.get('/base-list');
};
```

---

## 7. åç«¯æœåŠ¡è®¾è®¡

### 7.1 Controller

```java
@RestController
@RequestMapping("/api/v1/base-accounts")
@RequiredArgsConstructor
@Validated
public class BaseAccountController {

    private final BaseAccountService baseAccountService;

    @GetMapping("/{userId}")
    @ResponseStatus(HttpStatus.OK)
    public ResponseEntity<GetBaseAccountDetailResponse> getAccountDetail(
            @PathVariable @NotBlank String userId) {
        GetBaseAccountDetailResponse response = baseAccountService.getAccountDetail(userId);
        return ResponseEntity.ok(response);
    }

    @PutMapping("/{userId}")
    @ResponseStatus(HttpStatus.OK)
    public ResponseEntity<UpdateBaseAccountResponse> updateAccount(
            @PathVariable @NotBlank String userId,
            @Valid @RequestBody UpdateBaseAccountRequest request) {
        UpdateBaseAccountResponse response = baseAccountService.updateAccount(
            userId, request.getUpdateData());
        return ResponseEntity.ok(response);
    }

    @GetMapping("/base-list")
    @ResponseStatus(HttpStatus.OK)
    public ResponseEntity<GetBaseListResponse> getBaseList() {
        GetBaseListResponse response = baseAccountService.getBaseList();
        return ResponseEntity.ok(response);
    }
}
```

### 7.2 Service

```java
@Service
@RequiredArgsConstructor
@Slf4j
public class BaseAccountService {

    private final BaseAccountRepository baseAccountRepository;
    private final BaseListRepository baseListRepository;

    @Transactional(readOnly = true)
    public GetBaseAccountDetailResponse getAccountDetail(String userId) {
        BaseAccount account = baseAccountRepository.findById(userId)
                .orElseThrow(() -> new AccountNotFoundException(userId));

        PermissionMatrix matrix = buildPermissionMatrix(account.getPermission());

        return GetBaseAccountDetailResponse.builder()
                .success(true)
                .data(BaseAccountData.builder()
                        .userId(account.getUserId())
                        .email(account.getEmail())
                        .userName(account.getUserName())
                        .affiliation(account.getAffiliation())
                        .permission(account.getPermission().getValue())
                        .permissionMatrix(matrix)
                        .accountStatus(account.getAccountStatus().getValue())
                        .azureAdId(account.getAzureAdId())
                        .createdAt(account.getCreatedAt().toString())
                        .updatedAt(account.getUpdatedAt().toString())
                        .lastLoginAt(account.getLastLoginAt()?.toString())
                        .build())
                .build();
    }

    @Transactional
    public UpdateBaseAccountResponse updateAccount(
            String userId, UpdateBaseAccountRequest.UpdateData updateData) {
        BaseAccount account = baseAccountRepository.findById(userId)
                .orElseThrow(() -> new AccountNotFoundException(userId));

        if (updateData.getAffiliation() != null) {
            account.setAffiliation(updateData.getAffiliation());
        }

        if (updateData.getPermission() != null) {
            PermissionType newPermission = PermissionType.fromValue(updateData.getPermission());
            
            if (newPermission != account.getPermission()) {
                long adminCount = baseAccountRepository.countByPermission(PermissionType.ç®¡ç†è€…);
                if (account.getPermission() == PermissionType.ç®¡ç†è€… && adminCount <= 1) {
                    throw new LastAdminException("æœ€å¾Œã®ç®¡ç†è€…ã®æ¨©é™ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“");
                }
            }
            account.setPermission(newPermission);
        }

        if (updateData.getAccountStatus() != null) {
            AccountStatus newStatus = AccountStatus.fromValue(updateData.getAccountStatus());
            
            if (newStatus != account.getAccountStatus()) {
                long adminCount = baseAccountRepository.countByPermissionAndStatus(
                    PermissionType.ç®¡ç†è€…, AccountStatus.æœ‰åŠ¹);
                if (account.getPermission() == PermissionType.ç®¡ç†è€… && 
                    newStatus == AccountStatus.ç„¡åŠ¹ && adminCount <= 1) {
                    throw new LastAdminException("æœ€å¾Œã®ç®¡ç†è€…ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“");
                }
            }
            account.setAccountStatus(newStatus);
        }

        baseAccountRepository.save(account);

        log.info("ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ {} ã®æƒ…å ±ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ", userId);

        return UpdateBaseAccountResponse.builder()
                .success(true)
                .message("ä¿å­˜ã—ã¾ã—ãŸ")
                .build();
    }

    private PermissionMatrix buildPermissionMatrix(PermissionType permission) {
        Map<String, String> matrix = new HashMap<>();

        switch (permission) {
            case ç®¡ç†è€…:
                matrix.put("æ¨©é™ä»˜ä¸", "ç·¨é›†å¯");
                matrix.put("æ‰¿èª", "ç·¨é›†å¯");
                matrix.put("ãƒã‚¹ã‚¿ç®¡ç†", "ç·¨é›†å¯");
                matrix.put("ç™ºæ³¨", "é–²è¦§ã®ã¿");
                matrix.put("è¨ˆä¸Š", "é–²è¦§ã®ã¿");
                break;
            case å½¹å‰²è€…:
                matrix.put("æ¨©é™ä»˜ä¸", "é–²è¦§ä¸å¯");
                matrix.put("æ‰¿èª", "é–²è¦§ã®ã¿");
                matrix.put("ãƒã‚¹ã‚¿ç®¡ç†", "ç·¨é›†å¯");
                matrix.put("ç™ºæ³¨", "ç·¨é›†å¯");
                matrix.put("è¨ˆä¸Š", "é–²è¦§ä¸å¯");
                break;
            case é…è»Šæ‹…å½“è€…:
                matrix.put("æ¨©é™ä»˜ä¸", "é–²è¦§ä¸å¯");
                matrix.put("æ‰¿èª", "é–²è¦§ã®ã¿");
                matrix.put("ãƒã‚¹ã‚¿ç®¡ç†", "é–²è¦§ä¸å¯");
                matrix.put("ç™ºæ³¨", "ç·¨é›†å¯");
                matrix.put("è¨ˆä¸Š", "é–²è¦§ã®ã¿");
                break;
            case è¨ˆä¸Šæ‹…å½“è€…:
                matrix.put("æ¨©é™ä»˜ä¸", "é–²è¦§ä¸å¯");
                matrix.put("æ‰¿èª", "é–²è¦§ã®ã¿");
                matrix.put("ãƒã‚¹ã‚¿ç®¡ç†", "é–²è¦§ä¸å¯");
                matrix.put("ç™ºæ³¨", "é–²è¦§ä¸å¯");
                matrix.put("è¨ˆä¸Š", "ç·¨é›†å¯");
                break;
        }

        return PermissionMatrix.builder()
                .æ¨©é™ä»˜ä¸(matrix.get("æ¨©é™ä»˜ä¸"))
                .æ‰¿èª(matrix.get("æ‰¿èª"))
                .ãƒã‚¹ã‚¿ç®¡ç†(matrix.get("ãƒã‚¹ã‚¿ç®¡ç†"))
                .ç™ºæ³¨(matrix.get("ç™ºæ³¨"))
                .è¨ˆä¸Š(matrix.get("è¨ˆä¸Š"))
                .build();
    }
}
```

---

## 8. æ•°æ®åº“è¡¨è®¾è®¡

### 8.1 base_accountsãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE base_accounts (
    id BIGSERIAL PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL UNIQUE COMMENT 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ID',
    email VARCHAR(200) NOT NULL UNIQUE COMMENT 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹',
    user_name VARCHAR(200) NOT NULL COMMENT 'æ°å',
    affiliation VARCHAR(200) NOT NULL COMMENT 'æ‰€å±ãƒ™ãƒ¼ã‚¹',
    permission ENUM('ç®¡ç†è€…', 'å½¹å‰²è€…', 'é…è»Šæ‹…å½“è€…', 'è¨ˆä¸Šæ‹…å½“è€…') NOT NULL DEFAULT 'å½¹å‰²è€…' COMMENT 'æ¨©é™åŒºåˆ†',
    account_status ENUM('æœ‰åŠ¹', 'ç„¡åŠ¹') NOT NULL DEFAULT 'æœ‰åŠ¹' COMMENT 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹',
    azure_ad_id VARCHAR(100) COMMENT 'AzureADã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆID',
    roles TEXT[] COMMENT 'å½¹å‰²ãƒªã‚¹ãƒˆ',
    permissions TEXT[] COMMENT 'æ¨©é™ãƒªã‚¹ãƒˆ',
    last_login_at TIMESTAMP COMMENT 'æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³æ—¥æ™‚',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_base_account_user_id (user_id),
    INDEX idx_base_account_email (email),
    INDEX idx_base_account_affiliation (affiliation),
    INDEX idx_base_account_permission (permission),
    INDEX idx_base_account_status (account_status),
    INDEX idx_base_account_permission_status (permission, account_status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«';
```

### 8.2 base_listãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE base_list (
    id BIGSERIAL PRIMARY KEY,
    base_id VARCHAR(50) NOT NULL UNIQUE COMMENT 'ãƒ™ãƒ¼ã‚¹ID',
    base_name VARCHAR(200) NOT NULL COMMENT 'ãƒ™ãƒ¼ã‚¹å',
    base_type ENUM('ãƒ™ãƒ¼ã‚¹', 'æœ¬ç¤¾') NOT NULL COMMENT 'ãƒ™ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—',
    address TEXT COMMENT 'ä½æ‰€',
    phone VARCHAR(20) COMMENT 'é›»è©±ç•ªå·',
    is_active BOOLEAN NOT NULL DEFAULT TRUE COMMENT 'æœ‰åŠ¹çŠ¶æ…‹',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_base_list_type (base_type),
    INDEX idx_base_list_active (is_active)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ãƒ™ãƒ¼ã‚¹ãƒªã‚¹ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«';
```

### 8.3 base_account_audit_logãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE base_account_audit_log (
    id BIGSERIAL PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL COMMENT 'å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ID',
    changed_field VARCHAR(50) NOT NULL COMMENT 'å¤‰æ›´ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
    before_value TEXT COMMENT 'å¤‰æ›´å‰å€¤',
    after_value TEXT COMMENT 'å¤‰æ›´å¾Œå€¤',
    change_reason TEXT COMMENT 'å¤‰æ›´ç†ç”±',
    performed_by VARCHAR(100) NOT NULL COMMENT 'å®Ÿè¡Œè€…',
    performed_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_audit_user_id (user_id),
    INDEX idx_audit_performed_at (performed_at),
    
    FOREIGN KEY (user_id) REFERENCES base_accounts(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç›£æŸ»ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«';
```

---

## 9. éªŒæ”¶æ ‡å‡†

### 9.1 åŠŸèƒ½éªŒæ”¶

| æµ‹è¯•åœºæ™¯ | é¢„æœŸç»“æœ | ä¼˜å…ˆçº§ |
|----------|----------|--------|
| é¡µé¢åˆå§‹åŠ è½½ï¼ˆæ—¢å­˜ç”¨æˆ·ï¼‰ | æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€æ‰€å±ã€æƒé™ã€çŸ©é˜µ | P0 |
| é¡µé¢URLè®¿é—® | æ­£ç¡®è·å–userIdå¹¶åŠ è½½æ•°æ® | P0 |
| é–²è¦§ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤º | åªè¯»å­—æ®µä¸å¯ç¼–è¾‘ | P0 |
| ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ | ç‚¹å‡»ç¼–è¾‘æŒ‰é’®åå˜ä¸ºå¯ç¼–è¾‘ | P0 |
| æ‰€å±å¤‰æ›´ | å¯ä»¥é€‰æ‹©å¹¶ä¿å­˜æ‰€å±ãƒ™ãƒ¼ã‚¹ | P0 |
| æ¨©é™åŒºåˆ†é¸æŠ | å¯ä»¥é€‰æ‹©å¹¶ä¿å­˜æ¨©é™åŒºåˆ† | P0 |
| æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º | æ ¹æ®æ¨©é™åŒºåˆ†æ­£ç¡®æ˜¾ç¤ºçŸ©é˜µ | P0 |
| ä¿å­˜æŒ‰é’®ç‚¹å‡» | éªŒè¯å¹¶æäº¤æ›´æ–° | P0 |
| ã‚­ãƒ£ãƒ³ã‚»ãƒ«æŒ‰é’®ç‚¹å‡» | æ¢å¤åŸå§‹å€¼ï¼Œé€€å‡ºç¼–è¾‘æ¨¡å¼ | P0 |
| æœ‰åŠ¹/ç„¡åŠ¹åˆ‡æ¢ | çŠ¶æ€æ­£ç¡®åˆ‡æ¢ | P0 |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | å¿…å¡«é¡¹éªŒè¯ | P0 |
| æœ€çµ‚ç®¡ç†è€…ãƒã‚§ãƒƒã‚¯ | æœ€åä¸€ä¸ªç®¡ç†è€…ä¸èƒ½è¢«ç¦ç”¨ | P0 |

### 9.2 è§†è§‰éªŒæ”¶

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| å¸ƒå±€ | ä¸è®¾è®¡ç¨¿ä¸€è‡´ |
| é¢œè‰² | æƒé™æ ‡ç­¾é¢œè‰²æ­£ç¡® |
| é—´è· | ç¬¦åˆUIè§„èŒƒ |
| å­—ä½“ | å¤§å°ã€é¢œè‰²æ­£ç¡® |
| çŸ©é˜µæ˜¾ç¤º | æƒé™çŸ©é˜µæ˜¾ç¤ºæ­£ç¡® |

### 9.3 æ€§èƒ½éªŒæ”¶

| æŒ‡æ ‡ | è¦æ±‚ | æµ‹è¯•æ–¹æ³• |
|------|------|----------|
| é¡µé¢åŠ è½½ | <2ç§’ | Lighthouse |
| APIå“åº” | <500ms | APIç›‘æ§ |

### 9.4 å®‰å…¨éªŒæ”¶

| æ£€æŸ¥é¡¹ | è¦æ±‚ |
|--------|------|
| æƒé™æ§åˆ¶ | åªæœ‰ç®¡ç†è€…èƒ½è®¿é—® |
| CSRFé˜²æŠ¤ | æ‰€æœ‰PUTè¯·æ±‚å¸¦Token |
| åªè¯»å­—æ®µä¿æŠ¤ | åç«¯éªŒè¯åªè¯»å­—æ®µä¸å¯ä¿®æ”¹ |
| SQLæ³¨å…¥ | ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ |

---

## 10. å˜æ›´æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|---------|------|
| 2026-02-10 | v1.0.1 | æ·»åŠ 5.6ç”»é¢-API-æ•°æ®åº“å…³ç³»æ˜ å°„è¡¨ | - |
| 2026-02-XX| v1.0 | åˆå§‹ç‰ˆæœ¬ | - |

---

## é™„å½•

### A.1 ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ | [\_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md](../_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md) | å‰åç«¯æŠ€æœ¯æ¶æ„è¯¦ç»†è§„èŒƒ |
| b14-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿æ¤œç´¢ | [../b14-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿æ¤œç´¢/05_è®¾è®¡è§„èŒƒ.md](../b14-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿æ¤œç´¢/05_è®¾è®¡è§„èŒƒ.md) | è´¦æˆ·æœç´¢é¡µé¢ |
| b11-è¼¸é€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒã‚¹ã‚¿ä¸€è¦§ | [../b11-è¼¸é€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒã‚¹ã‚¿ä¸€è¦§/05_è®¾è®¡è§„èŒƒ.md](../b11-è¼¸é€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒã‚¹ã‚¿ä¸€è¦§/05_è®¾è®¡è§„èŒƒ.md) | åˆä½œä¼™ä¼´å…¬å¸ä¸€è§ˆ |
| AzureADé€£æºä»•æ§˜ | ../docs/azuread_integration.md | AzureADé€£æºè¯¦ç»†è¯´æ˜ |

### A.2 é–¢é€£ç”»é¢é·ç§»

| ç”»é¢ | é·ç§»å…ƒ | é·ç§»å…ˆ | ãƒˆãƒªã‚¬ãƒ¼ | èª¬æ˜ |
|------|--------|--------|----------|------|
| b15 | b14ä¸€è¦§ | - | - | ä¸€è¦§ã‹ã‚‰é¸æŠ |
| b15 | - | b14 | æˆ»ã‚‹ãƒœã‚¿ãƒ³ | æ¤œç´¢ç”»é¢ã¸æˆ»ã‚‹ |

### A.3 æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹å®šç¾©

| æ¨©é™åŒºåˆ† | æ¨©é™ä»˜ä¸ | æ‰¿èª | ãƒã‚¹ã‚¿ç®¡ç† | ç™ºæ³¨ | è¨ˆä¸Š |
|----------|----------|------|------------|------|------|
| ç®¡ç†è€… | ç·¨é›†å¯ | ç·¨é›†å¯ | ç·¨é›†å¯ | é–²è¦§ã®ã¿ | é–²è¦§ã®ã¿ |
| å½¹å‰²è€… | é–²è¦§ä¸å¯ | é–²è¦§ã®ã¿ | ç·¨é›†å¯ | ç·¨é›†å¯ | é–²è¦§ä¸å¯ |
| é…è»Šæ‹…å½“è€… | é–²è¦§ä¸å¯ | é–²è¦§ã®ã¿ | é–²è¦§ä¸å¯ | ç·¨é›†å¯ | é–²è¦§ã®ã¿ |
| è¨ˆä¸Šæ‹…å½“è€… | é–²è¦§ä¸å¯ | é–²è¦§ã®ã¿ | é–²è¦§ä¸å¯ | é–²è¦§ä¸å¯ | ç·¨é›†å¯ |

### A.4 APIè°ƒç”¨ç¤ºä¾‹

```bash
# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè©³ç´°å–å¾—
curl -X GET "https://api.example.com/api/v1/base-accounts/U001" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

```bash
# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±æ›´æ–°
curl -X PUT "https://api.example.com/api/v1/base-accounts/U001" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "updateData": {
      "affiliation": "æ±äº¬ãƒ™ãƒ¼ã‚¹",
      "permission": "é…è»Šæ‹…å½“è€…",
      "accountStatus": "æœ‰åŠ¹"
    }
  }'
```

```bash
# ãƒ™ãƒ¼ã‚¹ä¸€è¦§å–å¾—
curl -X GET "https://api.example.com/api/v1/base-list" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

---

**æ–‡æ¡£ç¼–åˆ¶**: -  
**ç¼–åˆ¶æ—¶é—´**: 2026-02-XX 
**é€‚ç”¨èŒƒå›´**: b15-ãƒ™ãƒ¼ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¹ã‚¿è©³ç´° åŸºç¡€è´¦æˆ·è¯¦æƒ…é¡µé¢  
**äº¤å‰å¼•ç”¨**: [\_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md](../_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md)
