# p4-å®Ÿç¸¾ç¢ºèª - è®¾è®¡è§„èŒƒ

## 1. åŠŸèƒ½æ¦‚è¿°

### 1.1 æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **å·¥ä½œè¡¨åç§°** | p4-å®Ÿç¸¾ç¢ºèª |
| **ç•Œé¢ç¼–å·** | p4 |
| **å¯¹åº”Baseç•Œé¢** | b4-å®Ÿç¸¾æ¤œç´¢ |
| **æ–‡æ¡£ç‰ˆæœ¬** | v1.0 |
| **æœ€åæ›´æ–°** | 2026-02-XX|
| **æ–‡æ¡£çŠ¶æ€** | âœ… å·²å‘å¸ƒ |

### 1.2 åŠŸèƒ½æè¿°

p4-å®Ÿç¸¾ç¢ºèª æ˜¯åˆä½œä¼™ä¼´ï¼ˆãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ï¼‰ä¾§æŸ¥çœ‹å’Œç¡®è®¤ä¸šç»©è¯¦æƒ…çš„é¡µé¢ã€‚ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼å¯ä»¥é€šè¿‡æ­¤é¡µé¢ï¼š

- æŸ¥çœ‹æ¥è‡ªãƒ™ãƒ¼ã‚¹ï¼ˆæ€»éƒ¨ï¼‰çš„ä¸šç»©è¯¦ç»†ä¿¡æ¯
- å°†ä¸šç»©æ ‡è®°ä¸ºå·²ç¡®è®¤ï¼ˆç¢ºèªæ¸ˆã«ã™ã‚‹ï¼‰
- æŸ¥çœ‹å…³è”çš„è®¢å•ä¿¡æ¯
- è·Ÿè¸ªä¸šç»©çš„ç¡®è®¤çŠ¶æ€

### 1.3 æŠ€æœ¯æ¶æ„

æœ¬æ–‡æ¡£åŸºäº **å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼Œè¯¦ç»†æŠ€æœ¯è§„èŒƒè¯·å‚è€ƒï¼š

ğŸ‘‰ **[\_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md](../_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md)**

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | React 18.x + TypeScript + Ant Design |
| åç«¯ | Spring Boot 3.x + Java 17 |
| æ•°æ®åº“ | PostgreSQL 15.x |

### 1.4 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|--------|
| ä¸šç»©è¯¦æƒ…å±•ç¤º | æ˜¾ç¤ºå®Œæ•´ä¸šç»©ä¿¡æ¯ | P0 |
| ç¡®è®¤æ“ä½œ | åˆä½œä¼™ä¼´ç¡®è®¤ä¸šç»© | P0 |
| å…³è”è®¢å•æŸ¥çœ‹ | è·³è½¬åˆ°å…³è”è®¢å• | P1 |
| çŠ¶æ€æ˜¾ç¤º | å±•ç¤ºç¡®è®¤çŠ¶æ€ | P1 |

### 1.5 é€‚ç”¨èŒƒå›´

- å‰ç«¯å¼€å‘äººå‘˜ï¼ˆè¯¦æƒ…é¡µé¢ç»„ä»¶å®ç°ï¼‰
- åç«¯å¼€å‘äººå‘˜ï¼ˆä¸šç»©APIå¼€å‘ï¼‰
- æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆåŠŸèƒ½æµ‹è¯•ï¼‰

---

## 2. APIæ¥å£è®¾è®¡

### 2.1 è·å–ä¸šç»©è¯¦æƒ…

```typescript
// GET /api/v1/partners/results/{resultId}
interface GetResultDetailRequest {
  resultId: string;
}

interface GetResultDetailResponse {
  success: boolean;
  data: {
    resultId: string;
    orderId: string;
    resultYearMonth: string;
    baseName: string;
    resultContent: string;
    completionDate: string;
    status: ResultStatus;
    confirmedAt?: string;
    confirmedBy?: string;
    createdAt: string;
    updatedAt: string;
  };
  error?: {
    code: string;
    message: string;
  };
}

type ResultStatus = 'UNCONFIRMED' | 'CONFIRMED';
```

### 2.2 ç¡®è®¤ä¸šç»©

```typescript
// POST /api/v1/partners/results/{resultId}/confirm
interface ConfirmResultRequest {
  resultId: string;
}

interface ConfirmResultResponse {
  success: boolean;
  data: {
    resultId: string;
    status: 'CONFIRMED';
    confirmedAt: string;
    confirmedBy: string;
  };
  message: string;
  error?: {
    code: string;
    message: string;
  };
}
```

### 2.3 è·å–å…³è”è®¢å•

```typescript
// GET /api/v1/partners/results/{resultId}/order
interface GetRelatedOrderResponse {
  success: boolean;
  data: {
    orderId: string;
    orderYearMonth: string;
    baseName: string;
    status: string;
    requestDate: string;
  };
}
```

### 2.4 APIé”™è¯¯å“åº”

```typescript
interface ApiErrorResponse {
  success: false;
  error: {
    code: ErrorCode;
    message: string;
    details?: Record<string, unknown>;
  };
}

type ErrorCode =
  | 'RESULT_NOT_FOUND'
  | 'RESULT_ALREADY_CONFIRMED'
  | 'PERMISSION_DENIED'
  | 'INVALID_REQUEST'
  | 'INTERNAL_ERROR';
```

---

## 3. å‰ç«¯ç»„ä»¶è®¾è®¡

### 3.1 é¡µé¢ç»„ä»¶ç»“æ„

```
p4-ResultDetail/
â”œâ”€â”€ index.tsx                    # ä¸»é¡µé¢ç»„ä»¶
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ResultHeader.tsx        # ä¸šç»©å¤´éƒ¨ï¼ˆIDã€çŠ¶æ€ï¼‰
â”‚   â”œâ”€â”€ ResultInfoCard.tsx      # ä¸šç»©ä¿¡æ¯å¡ç‰‡
â”‚   â”œâ”€â”€ ResultDetailSection.tsx # ä¸šç»©è¯¦æƒ…åŒºåŸŸ
â”‚   â”œâ”€â”€ ConfirmationInfo.tsx    # ç¡®è®¤ä¿¡æ¯å±•ç¤º
â”‚   â”œâ”€â”€ ConfirmButton.tsx       # ç¡®è®¤æŒ‰é’®ç»„ä»¶
â”‚   â””â”€â”€ RelatedOrderLink.tsx    # å…³è”è®¢å•é“¾æ¥
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useResultDetail.ts      # ä¸šç»©è¯¦æƒ…Hook
â”‚   â””â”€â”€ useResultAction.ts      # ä¸šç»©æ“ä½œHook
â”œâ”€â”€ types/
â”‚   â””â”€â”€ result.ts              # ä¸šç»©ç›¸å…³ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ resultFormatter.ts      # ä¸šç»©æ•°æ®æ ¼å¼åŒ–
â”‚   â””â”€â”€ validation.ts          # è¡¨å•éªŒè¯
â””â”€â”€ styles/
    â””â”€â”€ ResultDetail.module.css
```

### 3.2 ä¸»é¡µé¢ç»„ä»¶

```tsx
// index.tsx
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { Spin, message, Card, Descriptions, Button, Space, Tag, Result } from 'antd';
import { CheckCircleOutlined, ArrowLeftOutlined } from '@ant-design/icons';
import { ResultHeader } from './components/ResultHeader';
import { ResultInfoCard } from './components/ResultInfoCard';
import { ResultDetailSection } from './components/ResultDetailSection';
import { ConfirmationInfo } from './components/ConfirmationInfo';
import { ConfirmButton } from './components/ConfirmButton';
import { useResultDetail } from './hooks/useResultDetail';
import styles from './styles/ResultDetail.module.css';

export const ResultDetailPage: React.FC = () => {
  const { resultId } = useParams<{ resultId: string }>();
  const navigate = useNavigate();
  const { result, loading, error, refresh } = useResultDetail(resultId);
  const [messageApi, contextHolder] = message.useMessage();

  const handleConfirm = async () => {
    try {
      await confirmResult(resultId!);
      messageApi.success('å®Ÿç¸¾ã‚’ç¢ºèªã—ã¾ã—ãŸ');
      refresh();
    } catch (err) {
      messageApi.error(err.message);
    }
  };

  const handleViewOrder = () => {
    if (result?.orderId) {
      navigate(`/p3/${result.orderId}`);
    }
  };

  const handleBack = () => {
    navigate('/p4');
  };

  if (loading) {
    return (
      <div className={styles.loadingContainer}>
        <Spin size="large" />
      </div>
    );
  }

  if (error || !result) {
    return (
      <Result
        status="error"
        title="å®Ÿç¸¾æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ"
        subTitle={error?.message || 'ã“ã®å®Ÿç¸¾ã¯å­˜åœ¨ã—ã¾ã›ã‚“'}
        extra={[
          <Button type="primary" key="back" onClick={handleBack}>
            æˆ»ã‚‹
          </Button>,
        ]}
      />
    );
  }

  const isConfirmed = result.status === 'CONFIRMED';

  return (
    <div className={styles.container}>
      {contextHolder}
      <div className={styles.header}>
        <Button
          icon={<ArrowLeftOutlined />}
          onClick={handleBack}
          className={styles.backButton}
        >
          æˆ»ã‚‹
        </Button>
        <h1 className={styles.title}>å®Ÿç¸¾ç¢ºèª</h1>
      </div>

      <ResultInfoCard
        resultId={result.resultId}
        orderId={result.orderId}
        yearMonth={result.resultYearMonth}
        baseName={result.baseName}
        onViewOrder={handleViewOrder}
      />

      <Card className={styles.detailCard}>
        <ResultDetailSection
          resultContent={result.resultContent}
          completionDate={result.completionDate}
          status={result.status}
        />
      </Card>

      {isConfirmed && (
        <Card className={styles.confirmationCard}>
          <ConfirmationInfo
            confirmedAt={result.confirmedAt!}
            confirmedBy={result.confirmedBy}
          />
        </Card>
      )}

      <div className={styles.actionArea}>
        <ConfirmButton
          resultId={result.resultId}
          status={result.status}
          onConfirm={handleConfirm}
          disabled={isConfirmed}
        />
      </div>
    </div>
  );
};
```

### 3.3 ç¡®è®¤æŒ‰é’®ç»„ä»¶

```tsx
// ConfirmButton.tsx
import React from 'react';
import { Button, Modal, message, Tooltip } from 'antd';
import { CheckCircleOutlined } from '@ant-design/icons';
import { ResultStatus } from '../../types/result';
import styles from './ConfirmButton.module.css';

interface ConfirmButtonProps {
  resultId: string;
  status: ResultStatus;
  onConfirm: () => Promise<void>;
  disabled?: boolean;
}

export const ConfirmButton: React.FC<ConfirmButtonProps> = ({
  resultId,
  status,
  onConfirm,
  disabled,
}) => {
  const [messageApi, contextHolder] = message.useMessage();

  const isUnconfirmed = status === 'UNCONFIRMED';
  const canConfirm = isUnconfirmed && !disabled;

  const handleClick = () => {
    Modal.confirm({
      title: 'å®Ÿç¸¾ã‚’ç¢ºèªã—ã¾ã™',
      content: 'ã“ã®å®Ÿç¸¾ã‚’ç¢ºèªæ¸ˆã¿ã¨ã—ã¦ãƒãƒ¼ã‚¯ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ',
      icon: <CheckCircleOutlined style={{ color: '#52c41a' }} />,
      onOk: async () => {
        try {
          await onConfirm();
        } catch (err) {
          messageApi.error(err.message);
        }
      },
      okText: 'ç¢ºèªã™ã‚‹',
      cancelText: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
      autoFocusButton: 'cancel',
    });
  };

  return (
    <>
      {contextHolder}
      <Tooltip
        title={
          !canConfirm
            ? status === 'CONFIRMED'
              ? 'ã™ã§ã«ç¢ºèªæ¸ˆã¿ã§ã™'
              : 'ã“ã®å®Ÿç¸¾ã¯æ“ä½œã§ãã¾ã›ã‚“'
            : ''
        }
      >
        <Button
          type="primary"
          icon={<CheckCircleOutlined />}
          onClick={handleClick}
          disabled={!canConfirm}
          size="large"
          className={styles.confirmButton}
        >
          ç¢ºèªæ¸ˆã«ã™ã‚‹
        </Button>
      </Tooltip>
    </>
  );
};
```

### 3.4 ä¸šç»©è¯¦æƒ…Hook

```typescript
// hooks/useResultDetail.ts
import { useState, useEffect, useCallback } from 'react';
import { ResultDetail, ResultStatus } from '../types/result';
import { getResultDetail, confirmResult } from '../api/result';

interface UseResultDetailReturn {
  result: ResultDetail | null;
  loading: boolean;
  error: Error | null;
  refresh: () => Promise<void>;
  confirm: () => Promise<void>;
}

export const useResultDetail = (
  resultId: string | undefined
): UseResultDetailReturn => {
  const [result, setResult] = useState<ResultDetail | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<Error | null>(null);

  const fetchResult = useCallback(async () => {
    if (!resultId) return;
    setLoading(true);
    try {
      const response = await getResultDetail(resultId);
      if (response.success) {
        setResult(response.data);
        setError(null);
      } else {
        setError(new Error(response.error?.message));
      }
    } catch (err) {
      setError(err as Error);
    } finally {
      setLoading(false);
    }
  }, [resultId]);

  useEffect(() => {
    fetchResult();
  }, [fetchResult]);

  const confirm = useCallback(async () => {
    const response = await confirmResult(resultId!);
    if (response.success) {
      setResult((prev) =>
        prev
          ? {
              ...prev,
              status: 'CONFIRMED' as ResultStatus,
              confirmedAt: response.data.confirmedAt,
              confirmedBy: response.data.confirmedBy,
            }
          : null
      );
    } else {
      throw new Error(response.error?.message);
    }
  }, [resultId]);

  return {
    result,
    loading,
    error,
    refresh: fetchResult,
    confirm,
  };
};
```

---

## 4. åç«¯æœåŠ¡è®¾è®¡

### 4.1 Controller

```java
@RestController
@RequestMapping("/api/v1/partners/results")
@RequiredArgsConstructor
public class PartnerResultController {

    private final PartnerResultService partnerResultService;

    @GetMapping("/{resultId}")
    public ResponseEntity<GetResultDetailResponse> getResultDetail(
            @PathVariable String resultId,
            @AuthenticationPrincipal User user) {
        GetResultDetailResponse response = partnerResultService.getResultDetail(
            resultId, user.getPartnerId());
        return ResponseEntity.ok(response);
    }

    @PostMapping("/{resultId}/confirm")
    public ResponseEntity<ConfirmResultResponse> confirmResult(
            @PathVariable String resultId,
            @AuthenticationPrincipal User user) {
        ConfirmResultResponse response = partnerResultService.confirmResult(
            resultId, user.getPartnerId(), user.getName());
        return ResponseEntity.ok(response);
    }

    @GetMapping("/{resultId}/order")
    public ResponseEntity<GetRelatedOrderResponse> getRelatedOrder(
            @PathVariable String resultId,
            @AuthenticationPrincipal User user) {
        GetRelatedOrderResponse response = partnerResultService.getRelatedOrder(
            resultId, user.getPartnerId());
        return ResponseEntity.ok(response);
    }
}
```

### 4.2 Service

```java
@Service
@RequiredArgsConstructor
public class PartnerResultService {

    private final ResultRepository resultRepository;
    private final ResultActionRepository resultActionRepository;

    @Transactional
    public GetResultDetailResponse getResultDetail(String resultId, String partnerId) {
        Result result = resultRepository.findById(resultId)
            .orElseThrow(() -> new ResultNotFoundException(resultId));

        validatePermission(result, partnerId);

        return GetResultDetailResponse.builder()
            .success(true)
            .data(ResultDetailDTO.from(result))
            .build();
    }

    @Transactional
    public ConfirmResultResponse confirmResult(
            String resultId, String partnerId, String partnerName) {
        Result result = resultRepository.findById(resultId)
            .orElseThrow(() -> new ResultNotFoundException(resultId));

        validatePermission(result, partnerId);

        if (result.getStatus() == ResultStatus.CONFIRMED) {
            throw new ResultAlreadyConfirmedException();
        }

        result.setStatus(ResultStatus.CONFIRMED);
        result.setConfirmedAt(LocalDateTime.now());
        result.setConfirmedBy(partnerName);
        resultRepository.save(result);

        ResultAction action = ResultAction.builder()
            .resultId(resultId)
            .actionType(ActionType.CONFIRMED)
            .performedBy(partnerId)
            .performedByName(partnerName)
            .build();
        resultActionRepository.save(action);

        return ConfirmResultResponse.builder()
            .success(true)
            .message("å®Ÿç¸¾ã‚’ç¢ºèªã—ã¾ã—ãŸ")
            .data(ConfirmResultDTO.builder()
                .resultId(resultId)
                .status(ResultStatus.CONFIRMED)
                .confirmedAt(LocalDateTime.now())
                .confirmedBy(partnerName)
                .build())
            .build();
    }

    private void validatePermission(Result result, String partnerId) {
        if (!result.getPartnerId().equals(partnerId)) {
            throw new PermissionDeniedException();
        }
    }
}
```

---

## 5. æ•°æ®åº“è¡¨è®¾è®¡

### 5.1 results è¡¨ï¼ˆæ‰©å±•å­—æ®µï¼‰

```sql
ALTER TABLE results ADD COLUMN partner_id VARCHAR(50) NOT NULL;
ALTER TABLE results ADD COLUMN confirmed_at TIMESTAMP;
ALTER TABLE results ADD COLUMN confirmed_by VARCHAR(100);

CREATE INDEX idx_results_partner_status ON results(partner_id, status);
```

### 5.2 result_actions è¡¨

```sql
CREATE TABLE result_actions (
    action_id VARCHAR(50) PRIMARY KEY,
    result_id VARCHAR(50) NOT NULL,
    action_type ENUM('UNCONFIRMED', 'CONFIRMED') NOT NULL,
    performed_by VARCHAR(50) NOT NULL,
    performed_by_name VARCHAR(100),
    action_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (result_id) REFERENCES results(result_id),
    INDEX idx_actions_result (result_id)
);
```

---

## 6. éªŒè¯è§„åˆ™

### 6.1 æƒé™éªŒè¯

```typescript
// å‰ç«¯æƒé™æ£€æŸ¥
const useResultPermission = (result: ResultDetail | null) => {
  const { user } = useAuth();

  const canConfirm = useMemo(() => {
    if (!result) return false;
    return (
      result.status === 'UNCONFIRMED' &&
      result.partnerId === user.partnerId
    );
  }, [result, user]);

  const canView = result?.partnerId === user.partnerId;

  return { canConfirm, canView };
};
```

### 6.2 åç«¯éªŒè¯

```java
@Service
public class PartnerResultService {

    private void validatePermission(Result result, String partnerId) {
        if (!result.getPartnerId().equals(partnerId)) {
            throw new PermissionDeniedException(
                "ã“ã®å®Ÿç¸¾ã‚’æ“ä½œã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“");
        }
    }

    private void validateConfirmState(Result result) {
        if (result.getStatus() == ResultStatus.CONFIRMED) {
            throw new ValidationException("ã™ã§ã«ç¢ºèªæ¸ˆã¿ã§ã™");
        }
    }
}
```

---

## 7. å®‰å…¨è€ƒè™‘

### 7.1 æƒé™éªŒè¯

- ä»…å½’å±åˆä½œä¼™ä¼´å¯è®¿é—®å’Œæ“ä½œ
- åç«¯ä¸¥æ ¼æ ¡éªŒpartner_idåŒ¹é…

### 7.2 å®¡è®¡æ—¥å¿—

```java
@Service
public class ResultAuditService {

    @Async
    public void logConfirmation(
            String resultId, String partnerId, String partnerName) {
        AuditLog log = AuditLog.builder()
            .action("RESULT_CONFIRMED")
            .resultId(resultId)
            .performedBy(partnerId)
            .performedByName(partnerName)
            .timestamp(LocalDateTime.now())
            .build();
        auditLogRepository.save(log);
    }
}
```

---

## 8. æµ‹è¯•ç”¨ä¾‹

### 8.1 å•å…ƒæµ‹è¯•

```typescript
// useResultDetail.test.ts
describe('useResultDetail', () => {
  it('should return result data when result exists', async () => {
    const mockResult = {
      resultId: 'RES-001',
      status: 'UNCONFIRMED',
      partnerId: 'PARTNER-001',
    };
    (getResultDetail as jest.Mock).mockResolvedValue({
      success: true,
      data: mockResult,
    });

    const { result } = renderHook(() => useResultDetail('RES-001'));

    await waitFor(() => !result.current.loading);

    expect(result.current.result).toEqual(mockResult);
  });

  it('should handle confirm action', async () => {
    (confirmResult as jest.Mock).mockResolvedValue({
      success: true,
      message: 'å®Ÿç¸¾ã‚’ç¢ºèªã—ã¾ã—ãŸ',
    });

    await result.current.confirm();

    expect(confirmResult).toHaveBeenCalledWith('RES-001');
  });
});
```

### 8.2 é›†æˆæµ‹è¯•

```java
@SpringBootTest
@AutoConfigureMockMvc
class PartnerResultControllerIntegrationTest {

    @Autowired
    private MockMvc mockMvc;

    @Test
    @WithMockUser(username = "partner1", roles = {"PARTNER"})
    void confirmResult_Success() throws Exception {
        mockMvc.perform(post("/api/v1/partners/results/RES-001/confirm")
                .contentType(MediaType.APPLICATION_JSON))
            .andExpect(status().isOk())
            .andExpect(jsonPath("$.success").value(true))
            .andExpect(jsonPath("$.data.status").value("CONFIRMED"));
    }

    @Test
    @WithMockUser(username = "partner1", roles = {"PARTNER"})
    void confirmResult_AlreadyConfirmed_BadRequest() throws Exception {
        mockMvc.perform(post("/api/v1/partners/results/RES-002/confirm")
                .contentType(MediaType.APPLICATION_JSON))
            .andExpect(status().isBadRequest())
            .andExpect(jsonPath("$.error.code").value("RESULT_ALREADY_CONFIRMED"));
    }
}
```

---

## 9. éªŒæ”¶æ ‡å‡†

### 9.1 åŠŸèƒ½éªŒæ”¶

| åœºæ™¯ | é¢„æœŸç»“æœ | ä¼˜å…ˆçº§ |
|------|----------|--------|
| åŠ è½½å­˜åœ¨çš„ä¸šç»© | æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰ä¸šç»©ä¿¡æ¯ | P0 |
| åŠ è½½ä¸å­˜åœ¨çš„ä¸šç»© | æ˜¾ç¤ºé”™è¯¯æç¤ºï¼Œè¿”å›åˆ—è¡¨ | P0 |
| çŠ¶æ€ä¸ºUNCONFIRMEDæ—¶ç‚¹å‡»ç¡®è®¤ | ç¡®è®¤åçŠ¶æ€å˜ä¸ºCONFIRMED | P0 |
| çŠ¶æ€ä¸ºCONFIRMEDæ—¶æ“ä½œ | æŒ‰é’®ç¦ç”¨ï¼Œæ˜¾ç¤ºå·²ç¡®è®¤ | P0 |
| æ˜¾ç¤ºå…³è”è®¢å• | å¯ç‚¹å‡»è·³è½¬åˆ°è®¢å•è¯¦æƒ… | P1 |
| æ˜¾ç¤ºç¡®è®¤ä¿¡æ¯ | æ˜¾ç¤ºç¡®è®¤æ—¶é—´å’Œç¡®è®¤è€… | P1 |

### 9.2 æ€§èƒ½éªŒæ”¶

| æŒ‡æ ‡ | è¦æ±‚ | æµ‹è¯•æ–¹æ³• |
|------|------|----------|
| é¡µé¢åŠ è½½æ—¶é—´ | < 2ç§’ | Lighthouse |
| APIå“åº”æ—¶é—´ | < 500ms | APIæµ‹è¯• |

### 9.3 å®‰å…¨éªŒæ”¶

| æ£€æŸ¥é¡¹ | è¦æ±‚ |
|--------|------|
| æƒé™æ£€æŸ¥ | éå½’å±åˆä½œä¼™ä¼´æ— æ³•æ“ä½œ |
| ç¡®è®¤ä¸å¯æ’¤é”€ | åç«¯ä¸æä¾›æ’¤é”€æ¥å£ |

---

## 10. å˜æ›´æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|---------|------|
| 2026-02-XX| v1.0 | åˆå§‹ç‰ˆæœ¬ | - |

---

## é™„å½•

### A.1 ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ | [\_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md](../_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md) | å‰åç«¯æŠ€æœ¯æ¶æ„è¯¦ç»†è§„èŒƒ |
| b4-å®Ÿç¸¾æ¤œç´¢ | [../b4-å®Ÿç¸¾æ¤œç´¢/05_è®¾è®¡è§„èŒƒ.md](../b4-å®Ÿç¸¾æ¤œç´¢/05_è®¾è®¡è§„èŒƒ.md) | Baseä¾§ä¸šç»©æœç´¢è®¾è®¡è§„èŒƒ |

### A.2 ä¸b4å¯¹æ¯”

| ç‰¹æ€§ | b4-å®Ÿç¸¾æ¤œç´¢ | p4-å®Ÿç¸¾ç¢ºèª |
|------|-------------|-------------|
| **ç”¨æˆ·è§’è‰²** | ãƒ™ãƒ¼ã‚¹ï¼ˆæ€»éƒ¨ï¼‰ | è¼¸é€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ï¼ˆåˆä½œä¼™ä¼´ï¼‰ |
| **é¡µé¢ç±»å‹** | åˆ—è¡¨é¡µé¢ | è¯¦æƒ…é¡µé¢ |
| **ä¸»è¦æ“ä½œ** | æœç´¢ã€å¯¼å‡º | ç¡®è®¤æ“ä½œ |
| **APIå‰ç¼€** | /api/v1/results | /api/v1/partners/results |

---

**æ–‡æ¡£ç¼–åˆ¶**: -  
**ç¼–åˆ¶æ—¶é—´**: 2026-02-XX 
**é€‚ç”¨èŒƒå›´**: p4-å®Ÿç¸¾ç¢ºèª åˆä½œä¼™ä¼´ä¸šç»©ç¡®è®¤é¡µé¢  
**äº¤å‰å¼•ç”¨**: [\_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md](../_å…¬å…±æŠ€æœ¯æ¶æ„è§„èŒƒ.md)
