# b0-共通ナビゲーション工作表分析报告

## 📊 基本信息概览

### 工作表元数据
| 项目 | 数值 |
|------|------|
| **工作表名称** | b0-共通ナビゲーション |
| **总数据行数** | 30行 |
| **总数据列数** | 41列 |
| **有效数据行数** | 24行 |
| **有效数据列数** | 5列 |
| **非空单元格数** | 29个 |
| **数据填充率** | 约2.35% |

### 数据分布特征
- **工作表类型**: 界面设计规范文档（导航菜单说明）
- **设备适配**: ≪PC≫（仅限PC端使用）
- **主要用途**: 定义基础用户导航菜单的功能和跳转关系

---

## 🏗️ 数据结构解析

### 有效数据列分布
| 列名 | 非空单元格数 | 数据内容类型 |
|------|-------------|-------------|
| **Unnamed: 1** | 2 | 标题和标签 |
| **Unnamed: 2** | 9 | 菜单项名称（配車発注管理、システム等） |
| **Unnamed: 38** | 2 | 功能概要标题 |
| **Unnamed: 39** | 8 | 功能说明（ナビゲーション概要） |
| **Unnamed: 40** | 8 | 项目列表（各菜单项的详细说明和跳转） |

### 数据结构模式
```
工作表结构:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
列2: 菜单分类      列39: 功能说明          列40: 项目列表
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
配車発注管理        機能概要                各菜单项跳转说明
システム            ナビゲーション概要       ・発注管理 → b2
発注管理                                    ・実績管理 → b4
実績管理                                    ・被請求管理 → b6
被請求管理                                  ・CSVアップロード → b8
CSVアップロード                             ・アクション履歴 → b9
アクション履歴                               ・マスタ管理 → b10
マスタ管理                                   ・ログアウト → b1
ログアウト
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 🎯 核心内容详细分析

### 1. 工作表标题和标识

**Row 1**: `b0-共通ナビゲーション`
- **用途**: 标识工作表内容
- **命名规范**: `[编号]-[功能名称]`格式

**Row 3**: `≪PC≫`
- **含义**: 仅限PC端使用
- **说明**: b0-共通ナビゲーション不支持SP（智能手机）端
- **与p0的区别**: p0-共通ナビゲーション支持PC和SP双端

### 2. 功能概要（▼機能概要）

**位置**: Row 6, Column 38 (Unnamed: 38)

**功能说明** (Row 6, Column 39):
> 「主要ページへのリンクを共通メニューとして常時表示してナビゲーションする」

**解析**:
- **核心功能**: 作为通用导航菜单常时显示
- **导航方式**: 主要页面链接以菜单形式常驻显示
- **设计理念**: 提供统一的系统导航入口
- **用户价值**: 便于用户快速访问各功能模块

### 3. 菜单项目列表（▼項目）

**位置**: Row 8, Column 38 (Unnamed: 38)

**菜单分类结构**:

```
b0-共通ナビゲーション
├── 配車発注管理 (Row 7)
│   └── システム (Row 8)
│       ├── 発注管理 (Row 9) → b2-発注検索
│       ├── 実績管理 (Row 11) → b4-実績検索
│       ├── 被請求管理 (Row 13) → b6-被請求管理
│       ├── CSVアップロード (Row 16) → b8-CSVアップロード
│       ├── アクション履歴 (Row 21) → b9-アクション履歴
│       ├── マスタ管理 (Row 23) → b10-マスタ管理
│       └── ログアウト (Row 31) → b1-スタート
```

---

## 🔄 详细导航跳转说明

### 菜单项导航矩阵

| 序号 | 菜单名称 | 跳转目标界面 | 功能说明 |
|------|----------|-------------|----------|
| ⑴ | **発注管理** | b2-発注検索 | 订单管理功能入口 |
| ⑵ | **実績管理** | b4-実績検索 | 业绩管理功能入口 |
| ⑶ | **被請求管理** | b6-被請求管理 | 被请求管理功能入口 |
| ⑷ | **CSVアップロード** | b8-CSVアップロード | CSV文件上传功能入口 |
| ⑸ | **アクション履歴** | b9-アクション履歴 | 操作历史记录入口 |
| ⑹ | **マスタ管理** | b10-マスタ管理 | 主数据管理功能入口 |
| ⑺ | **ログアウト** | b1-スタート | 退出系统返回起始页 |

### 各菜单项详细跳转逻辑

#### ⑴ 発注管理（订单管理）
**触发方式**: 点击「発注管理」链接
**跳转目标**: `b2-発注検索`画面
**前置条件**: 用户已登录且具有発注管理权限
**权限验证**: 管理员(△)、发注担当者(○)、配车担当者(○)、计上担当者(△)

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「発注管理」リンク押下)
b2-発注検索 [订单搜索界面]
    ↓ (選択订单)
b3-発注詳細 [订单详情界面]
```

#### ⑵ 実績管理（业绩管理）
**触发方式**: 点击「実績管理」链接
**跳转目标**: `b4-実績検索`画面
**前置条件**: 用户已登录且具有実績管理权限
**权限验证**: 管理员(△)、发注担当者(○)、配车担当者(○)、计上担当者(△)

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「実績管理」リンク押下)
b4-実績検索 [业绩搜索界面]
    ↓ (選択业绩记录)
b5-実績詳細 [业绩详情界面]
```

#### ⑶ 被請求管理（被请求管理）
**触发方式**: 点击「被請求管理」链接
**跳转目标**: `b6-被請求管理`画面
**前置条件**: 用户已登录且具有被請求管理权限
**权限验证**: 管理员(△)、发注担当者(×)、配车担当者(△)、计上担当者(○)

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「被請求管理」リンク押下)
b6-被請求管理 [被请求管理界面]
    ↓ (選択请求记录)
b7-被請求詳細 [被请求详情界面]
```

#### ⑷ CSVアップロード（CSV上传）
**触发方式**: 点击「CSVアップロード」链接
**跳转目标**: `b8-CSVアップロード`画面
**前置条件**: 用户已登录且具有CSV上传权限
**权限验证**: 管理员(△)、发注担当者(○)、配车担当者(○)、计上担当者(△)

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「CSVアップロード」リンク押下)
b8-CSVアップロード [CSV上传界面]
    ↓ (ファイル選択・検証・アップロード)
データインポート完了
```

#### ⑸ アクション履歴（操作历史）
**触发方式**: 点击「アクション履歴」链接
**跳转目标**: `b9-アクション履歴`画面
**前置条件**: 用户已登录
**权限验证**: 管理员(△)、发注担当者(△)、配车担当者(△)、计上担当者(△)（全角色仅查看）

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「アクション履歴」リンク押下)
b9-アクション履歴 [操作历史界面]
    ↓ (検索・フィルタリング)
操作履歴一覧表示
```

#### ⑹ マスタ管理（主数据管理）
**触发方式**: 点击「マスタ管理」链接
**跳转目标**: `b10-マスタ管理`画面
**前置条件**: 用户已登录且具有マスタ管理权限
**权限验证**: 管理员(○)、发注担当者(○)、配车担当者(×)、计上担当者(×)

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「マスタ管理」リンク押下)
b10-マスタ管理 [主数据管理入口]
    ↓ (選択管理対象)
├── b11-輸送パートナーマスタ検索
│   ├── b12-輸送パートナー詳細（会社）
│   └── b13-輸送パートナー詳細（ユーザー）
└── b14-ベースアカウントマスタ検索
    └── b15-ベースアカウントマスタ詳細
```

#### ⑺ ログアウト（退出登录）
**触发方式**: 点击「ログアウト」链接
**跳转目标**: `b1-スタート`画面
**功能说明**: 
- 从本系统退出登录
- 返回起始界面（スタート画面）
- 需要重新登录才能继续操作

```
导航流程:
b0-共通ナビゲーション [メニュー表示]
    ↓ (「ログアウト」リンク押下)
セッション終了処理
    ↓
b1-スタート [起始界面]
    ↓
再ログイン要求
```

---

## 🎨 界面设计规范

### 视觉布局推测

基于数据结构分析，b0-共通ナビゲーション的界面布局应该是：

```
┌─────────────────────────────────────────────────────────────┐
│  【画面上部】                                                │
│  ■ヤマト運輸様｜ベース業務改善                              │
├─────────────────────────────────────────────────────────────┤
│  【左側ナビゲーション】                                      │
│  ┌──────────────────────────────────────────┐              │
│  │ ≪PC≫                                     │              │
│  │                                          │              │
│  │ ▼機能概要                                │              │
│  │ 主要ページへのリンクを共通メニュー...    │              │
│  │                                          │              │
│  │ ▼項目                                    │              │
│  │                                          │              │
│  │ ├─ 配車発注管理                          │              │
│  │ │   └─ システム                          │              │
│  │ │       ├─ 発注管理                      │              │
│  │ │       ├─ 実績管理                      │              │
│  │ │       ├─ 被請求管理                    │              │
│  │ │       ├─ CSVアップロード               │              │
│  │ │       ├─ アクション履歴                │              │
│  │ │       ├─ マスタ管理                    │              │
│  │ │       └─ ログアウト                    │              │
│  │                                          │              │
│  └──────────────────────────────────────────┘              │
├─────────────────────────────────────────────────────────────┤
│  【メインコンテンツ領域】                                    │
│  （各機能画面がここに表示される）                            │
└─────────────────────────────────────────────────────────────┘
```

### 设计特点分析

1. **左侧固定导航栏**
   - 常时显示，不随页面滚动消失
   - PC端屏幕左侧固定位置
   - 提供全局性的系统入口

2. **层级化菜单结构**
   - 配車発注管理（一级）
   - └─ システム（二级）
   -     └─ 各功能菜单（三级）

3. **设备限制**
   - ≪PC≫标识明确表示不支持移动端
   - 与p0-共通ナビゲーション（支持SP）形成对比

---

## 🔐 权限与访问控制

### 菜单项权限矩阵

基于「画面一覧」工作表的权限配置：

| 菜单项 | 管理者 | 発注担当者 | 配車担当者 | 計上担当者 | 显示逻辑 |
|--------|--------|-----------|-----------|-----------|----------|
| 発注管理 | △ | ○ | ○ | △ | 发注/配车可编辑，其他可查看 |
| 実績管理 | △ | ○ | ○ | △ | 发注/配车可编辑，其他可查看 |
| 被請求管理 | △ | × | △ | ○ | 计上可编辑，配车可查看，发注不可见 |
| CSVアップロード | △ | ○ | ○ | △ | 发注/配车可编辑，其他可查看 |
| アクション履歴 | △ | △ | △ | △ | 所有角色仅可查看 |
| マスタ管理 | ○ | ○ | × | × | 管理/发注可编辑，配车/计上不可见 |
| ログアウト | - | - | - | - | 所有角色可见可用 |

**权限符号说明**:
- ○: 編集可（可编辑，菜单项显示并可操作）
- △: 閲覧のみ（仅查看，菜单项显示但功能受限）
- ×: 閲覧不可（不可查看，菜单项不显示或禁用）
- -: 非対象（不适用，所有用户均可使用如ログアウト）

### 动态菜单显示逻辑

```python
# 伪代码：菜单显示逻辑
if user_role == "管理者":
    show_menu_items(["発注管理", "実績管理", "被請求管理", "CSVアップロード", 
                     "アクション履歴", "マスタ管理", "ログアウト"])
elif user_role == "発注担当者":
    show_menu_items(["発注管理", "実績管理", "CSVアップロード", 
                     "アクション履歴", "マスタ管理", "ログアウト"])
    # 隐藏: 被請求管理
    
elif user_role == "配車担当者":
    show_menu_items(["発注管理", "実績管理", "被請求管理", "CSVアップロード", 
                     "アクション履歴", "ログアウト"])
    # 隐藏: マスタ管理
    
elif user_role == "計上担当者":
    show_menu_items(["発注管理", "実績管理", "被請求管理", "CSVアップロード", 
                     "アクション履歴", "ログアウト"])
    # 隐藏: マスタ管理
```

---

## 🔄 与其他界面的关系

### b0在系统中的位置

```
【システム全体のアーキテクチャ】

b1-スタート (ログイン後のTOP画面)
    ↓
b0-共通ナビゲーション (常時表示のメニュー)
    ├──→ b2-発注検索 → b3-発注詳細
    ├──→ b4-実績検索 → b5-実績詳細
    ├──→ b6-被請求管理 → b7-被請求詳細
    ├──→ b8-CSVアップロード
    ├──→ b9-アクション履歴
    ├──→ b10-マスタ管理 → b11/b12/b13/b14/b15
    └──→ b1-スタート (ログアウト時)
```

### 入口界面（b1-スタート）的关系

**b1-スタート → b0-共通ナビゲーション**:
- 用户登录成功后自动显示b0导航菜单
- b0作为常驻UI元素，在所有功能界面保持可见
- 从b1跳转后，b0立即激活并显示

**b0 → 各功能界面**:
- b0作为所有功能界面的"母容器"
- 点击菜单项在b0的内容区域加载对应界面
- 导航状态保持，不重新加载整个页面

### 与p0-共通ナビゲーション的对比

| 特性 | b0-共通ナビゲーション | p0-共通ナビゲーション |
|------|---------------------|---------------------|
| **用户类型** | ベース（基础用户） | 輸送パートナー（运输合作伙伴） |
| **设备支持** | PCのみ | PC + SP |
| **菜单项数** | 7个 | 5个 |
| **功能范围** | 完整管理功能 | 限定操作功能 |
| **SP适配** | 不支持 | ハンバーガーメニュー対応 |
| **权限控制** | 复杂（4角色×7菜单） | 简单（1角色×5菜单） |

---

## 📊 数据统计汇总

### 基本信息统计
- **工作表尺寸**: 30行 × 41列 = 1,230个单元格
- **有效单元格**: 29个（2.35%）
- **数据行数**: 24行（80%）
- **空白单元格**: 1,201个（97.65%）

### 数据类型分布
- **字符串型**: 29个单元格（100%的有效数据）
- **说明**: 全部为文本说明和菜单配置信息

### 内容分类统计
| 内容类别 | 单元格数 | 说明 |
|----------|---------|------|
| **标题类** | 3 | 工作表标题、PC标签、功能概要标题 |
| **菜单类** | 9 | 各菜单项名称（発注管理、実績管理等） |
| **跳转说明类** | 7 | 各菜单项的跳转目标说明 |
| **层级标签** | 2 | ▼機能概要、▼項目 |
| **功能描述** | 8 | ナビゲーション概要、各菜单项详细说明 |

---

## 💡 关键发现和建议

### 关键发现

1. **导航菜单完整性**: b0-共通ナビゲーション定义了基础用户的完整功能菜单，涵盖7大功能模块

2. **权限驱动设计**: 每个菜单项都有明确的权限控制，根据用户角色动态显示/隐藏

3. **PC专用设计**: ≪PC≫标签明确表示该导航菜单仅支持PC端，不支持移动端

4. **层级化结构**: 菜单采用三级层级结构（配車発注管理→システム→具体功能）

5. **跳转目标明确**: 每个菜单项都有明确的跳转目标界面（b2-b15）

### 设计亮点

1. **统一入口**: 提供系统所有功能的统一访问入口
2. **常时显示**: 导航菜单始终可见，方便用户随时切换功能
3. **权限隔离**: 通过权限控制实现不同角色的功能隔离
4. **清晰层级**: 功能分类清晰，用户易于理解和使用
5. **完整闭环**: 包含ログアウト功能，形成完整的用户操作流程

### 潜在改进建议

1. **移动端支持**: 当前仅支持PC端，可考虑开发简化版移动端导航
2. **搜索功能**: 可增加菜单搜索功能，方便快速定位功能
3. **收藏功能**: 允许用户收藏常用菜单项，提升使用效率
4. **最近使用**: 显示最近使用的功能菜单，提升访问便利性
5. **快捷方式**: 支持键盘快捷键导航，提升高级用户体验

### 实施注意事项

1. **权限验证**: 确保每个菜单项的权限控制与「画面一覧」配置一致
2. **状态保持**: 导航菜单状态应在页面刷新后保持一致
3. **加载性能**: 作为常驻UI元素，需确保加载性能不影响用户体验
4. **响应式设计**: 考虑不同分辨率下的显示效果
5. **可访问性**: 确保符合Web可访问性标准（WCAG）

---

## 📋 验证清单

### 功能验证
- [ ] b0导航菜单在所有界面常时显示
- [ ] 点击菜单项正确跳转到目标界面
- [ ] 各菜单项根据权限正确显示/隐藏
- [ ] ログアウト功能正常工作
- [ ] PC端显示正常，SP端不显示或显示替代方案

### 数据一致性验证
- [ ] 菜单项名称与「画面一覧」一致
- [ ] 跳转目标界面编号正确（b2-b15）
- [ ] 权限配置与「画面一覧」一致
- [ ] 功能描述准确无误

### 用户体验验证
- [ ] 菜单加载速度快
- [ ] 层级结构清晰易懂
- [ ] 当前选中菜单项有明显标识
- [ ] 权限不足的菜单项正确处理（隐藏或禁用）

---

**报告生成时间**: 2026-02-XX 
**分析工具**: Python Pandas + Excel数据分析  
**数据来源**: 別紙_画面一覧_v151.xlsx - b0-共通ナビゲーション工作表  
**关联文档**: 画面一覧工作表分析报告