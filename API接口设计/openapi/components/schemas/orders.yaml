# 発注スキーマ定義

Order:
  type: object
  properties:
    orderId:
      type: string
      description: 発注ID
      example: "ORD-2026-001"
    companyId:
      type: string
      description: 会社ID
      example: "C001"
    companyName:
      type: string
      description: 会社名
      example: "大賀輸送株式会社"
    orderYearMonth:
      type: string
      description: 発注年月
      example: "2026-02"
    status:
      type: string
      enum: [pending, accepted, rejected, expired, cancelled]
      description: 発注ステータス
      example: "pending"
    requestDate:
      type: string
      format: date
      description: 依頼日
      example: "2026-02-01"
    version:
      type: integer
      description: バージョン
      example: 1
    createdAt:
      type: string
      format: date-time
      description: 作成日時
      example: "2026-02-xxT10:30:00Z"
    updatedAt:
      type: string
      format: date-time
      description: 更新日時
      example: "2026-02-xxT11:30:00Z"

OrderDetail:
  type: object
  allOf:
    - $ref: '#/components/schemas/Order'
    - type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/OrderItem'
          description: 発注明細リスト
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/Attachment'
          description: 添付ファイルリスト

OrderItem:
  type: object
  properties:
    itemId:
      type: string
      description: 明細ID
      example: "ITEM-001"
    productCode:
      type: string
      description: 商品コード
      example: "PROD001"
    productName:
      type: string
      description: 商品名
      example: "輸送サービス"
    quantity:
      type: integer
      description: 数量
      example: 10
    unitPrice:
      type: number
      format: decimal
      description: 単価
      example: 15000
    totalPrice:
      type: number
      format: decimal
      description: 合計金額
      example: 150000

Attachment:
  type: object
  properties:
    attachmentId:
      type: string
      description: 添付ファイルID
      example: "ATT-001"
    fileName:
      type: string
      description: ファイル名
      example: "order_attachment.pdf"
    fileSize:
      type: integer
      description: ファイルサイズ（バイト）
      example: 102400
    mimeType:
      type: string
      description: MIMEタイプ
      example: "application/pdf"
    uploadedAt:
      type: string
      format: date-time
      description: アップロード日時
      example: "2026-02-xxT10:30:00Z"

OrderSearchResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    code:
      type: string
      example: SUCCESS
    message:
      type: string
      example: "検索成功"
    data:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Order'
        pagination:
          $ref: '#/components/schemas/PaginationResponse'
    timestamp:
      type: string
      format: date-time
      example: "2026-02-xxT10:30:00Z"