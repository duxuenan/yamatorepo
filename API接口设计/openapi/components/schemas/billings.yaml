# 請求スキーマ定義

Billing:
  type: object
  properties:
    billingId:
      type: string
      description: 請求ID
      example: "BILL-2026-001"
    companyId:
      type: string
      description: 会社ID
      example: "C001"
    amount:
      type: number
      format: decimal
      description: 請求金額
      example: 1500000
    status:
      type: string
      enum: [pending, issued, paid, cancelled]
      description: 請求ステータス
      example: "issued"
    issueDate:
      type: string
      format: date
      description: 発行日
      example: "2026-02-05"
    dueDate:
      type: string
      format: date
      description: 支払期限
      example: "2026-02-28"
    paidAt:
      type: string
      format: date-time
      description: 支払日時
      example: "2026-02-xxT10:30:00Z"
    createdAt:
      type: string
      format: date-time
      description: 作成日時
      example: "2026-02-xxT10:30:00Z"

BillingDetail:
  type: object
  allOf:
    - $ref: '#/components/schemas/Billing'
    - type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/BillingItem'
          description: 請求明細リスト
        pdfUrl:
          type: string
          description: PDFダウンロードURL
          example: "/api/v1/billings/BILL-2026-001/pdf"

BillingItem:
  type: object
  properties:
    itemId:
      type: string
      description: 明細ID
      example: "BILL-ITEM-001"
    description:
      type: string
      description: 説明
      example: "2026年2月輸送サービス"
    quantity:
      type: integer
      description: 数量
      example: 100
    unitPrice:
      type: number
      format: decimal
      description: 単価
      example: 15000
    totalPrice:
      type: number
      format: decimal
      description: 合計金額
      example: 1500000

BillingSearchResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    code:
      type: string
      example: SUCCESS
    message:
      type: string
      example: "検索成功"
    data:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Billing'
        pagination:
          $ref: '#/components/schemas/PaginationResponse'
    timestamp:
      type: string
      format: date-time
      example: "2026-02-xxT10:30:00Z"